webpackJsonp([19],{1717:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(141),s=a.n(n),i=a(4),o=a.n(i),r=a(3),l=a.n(r),c=a(2),d=a.n(c),p=a(147),m=a.n(p),u=a(5),g=a.n(u),h=a(0),f=a.n(h),b=a(1),v=a.n(b),_=a(2204),y=a.n(_),x=a(1766),C=a(1591),S=a(1567),E=a(33),M=a.n(E),I=a(651),P=a.n(I),w=a(1813),T=a.n(w),N=a(1610),k=a.n(N),A=a(249),D=a.n(A),O=a(367),L=a.n(O);const R=({intl:e}={})=>v.a.createElement("span",{className:"D(ib) Bgc(#6526c1) C(#fff) Bg(editorsPickGradient) Fw(600) Fz(11px) Px(6px) Py(3px) Bdrs(2px) Mend(11px) Mt(4px)"},e.formatMessage({id:"EDITORS_PICK"})+" ");R.displayName="EditorsPick",R.propTypes={intl:f.a.object};var B=R;const j={beauty:"C($c-fuji-beauty)",business:"C($c-fuji-blue-1-a)",celebrity:"C($c-fuji-punch-a)",entertainment:"C($c-fuji-entertainment)",finance:"C($c-fuji-blue-1-a)",health:"C($c-fuji-teal-1-a)",hkfood:"C($c-fuji-style)",hkstylemen:"C($c-fuji-style)",hktravelnow:"C($c-fuji-style)",lifestyle:"C($c-fuji-lifestyle)",movies:"C($c-fuji-movies)",music:"C($c-fuji-music)",news:"C($c-fuji-blue-1-a)",politics:"C($c-fuji-blue-3-a)",popculture:"C($c-fuji-ruby-a)",science:"C($c-fuji-blue-3-a)",sports:"C($c-fuji-orange-c)",style:"C($c-fuji-ruby-a)",technology:"C($c-fuji-orange-b)",tv:"C($c-fuji-tv)",trending:"C($c-fuji-purple-1-b)",us:"C($c-fuji-blue-1-a)",wellness:"C($c-fuji-ruby-a)",world:"C($c-fuji-blue-1-a)"},z=(e,t)=>{const{data:a,className:n}=e,{intl:s,session:i}=t,r=a.get("categoryLabel"),l=r&&r.replace(/\./g,"").toLowerCase(),c=a.get("property"),d=x.n(a),p=x.q(a),m=x.f(a,s.messages);let u="C(#0078ff)";if(!m&&!d)return null;l&&j[l]&&!p?u=j[l]:c&&!p&&(u="C($c-fuji-"+c+")");const g={className:o()(n,u,{"Mend(9px)":!!m,"Mt(-2px)":i.userAgent&&"internet explorer"!==i.userAgent.browserName}),"data-test-locator":"catlabel",key:"catlabel"};return d?v.a.createElement("div",g,v.a.createElement(B,{intl:s}),m):v.a.createElement("div",g,m)};z.displayName="CategoryLabel",z.contextTypes={intl:f.a.object.isRequired,session:f.a.object},z.propTypes={className:f.a.string,data:f.a.object.isRequired},z.defaultProps={className:"Fw(b) Mb(2px) smartphone_Mb(8px) Tt(c) Ell"};var F=z,U=a(1797),V=a(194),H=a.n(V),W=a(20),$=a(11),q=a(142),G=a(78),Y=a.n(G),J=a(12),Z=a.n(J),K=a(1540),X=a(58),Q=a(1585),ee=a.n(Q),te=a(640),ae=a.n(te),ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};function se(e){if(e){var t=e.get("width"),a=e.get("height");if(t&&a)return v.a.createElement("div",{className:"H(0) Mb(5px)",style:{paddingBottom:Math.round(a/t*100)+"%"}},v.a.createElement("img",{className:"W(100%) H(a) Bdrs(2px)",src:e.get("url"),width:t,height:a}))}}var ie=l()({displayName:"RelatedAd",autobind:!1,mixins:[K.DataMixin],contextTypes:{intl:f.a.object.isRequired},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},render:function(){var e,t=this.props,a=t.data,n=t.idx+1,s=a.get("link")||a.get("url")||"",i=a.get("image"),r=t.cposy?t.cposy+"."+n:0,l=x.r(a.get("link"))||a.get("url")||"",c={className:o()("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",t.titleClassName),followLink:!0,href:s,i13nModel:{ad:1,cposy:r,ct:1,g:a.get("id"),pkgt:"youmaylike",pos:n,tar:l.host,tar_uri:l.pathname},navParams:{url:a.get("url")},rel:"nofollow noopener noreferrer",target:"_blank"};return t.sponsoredByLabel&&(e=a.get("sponsoredByLabel")),e||(e=this.context.intl.formatMessage({id:"SPONSORED"})),v.a.createElement(Y.a,c,se(i),v.a.createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},a.get("title")),v.a.createElement("div",{className:"C(#959595) Mt(2px) Fz(11px)"},v.a.createElement("span",{className:"Mend(6px)"},a.get("publisher")),v.a.createElement("div",{className:"Whs(nw) D(ib) Va(t) C($c-fuji-grey-j)"},e,v.a.createElement($.Icon,{asset:ae.a,className:"Mstart(4px)",height:11,color:"#464e56",style:{verticalAlign:"text-top"}}))))}}),oe=l()({displayName:"RelatedItemsList",autobind:!1,mixins:[X.ComponentMixin],contextTypes:{i13n:f.a.object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE"}}},propTypes:{},getDefaultProps:function(){return{cposy:0,titleClassName:"C(#000)"}},componentDidMount:function(){var e=this.context.i13n,t=e.getI13nNode().getMergedModel();t.elm="rhdln",t.pkgt="youmaylike",delete t.itc,delete t.ct,e.executeEvent("beacon",{beaconType:"beaconClick",arguments:["strm",t.slk,1,t]})},getRelatedItemComponents:function(){var e=this.props,t=e.relatedItems||g.a.List(),a=e.config.ui||{},n=a.related_item_width||Math.floor(100/a.related_count)+"%",s=a.prerender||{},i=a.show_read,r=[],l=d()(e.config,["ads","partial_viewability"])||!1;a.storyline_navparam_enabled&&t.forEach(function(e){e&&!x.m(e)&&r.push(e.get("id"))});const c=o()("Td(n) D(ib) Va(t) W(100%) C(#0078ff):h",e.titleClassName,{"C(#959595):vi":i}),p={width:n},m="stream-related-item D(ib) Bxz(bb) Pend(12px) Whs(n) Va(t)";return t.map((t,a)=>{var n=t.get("link")||t.get("url")||"",i=se(t.get("image")),o=a+1,d=e.cposy?e.cposy+"."+o:0,u=x.c(t,null,a,!0),g={className:c,followLink:x.s(t,e.config),href:n,i13nModel:Object.assign({},u,{cposy:d,elm:"rhdln",pkgt:"youmaylike",pos:o}),navParams:{relatedUuids:x.b(r,t.get("id")),url:t.get("url")}};return x.m(t)?v.a.createElement("li",{className:m,style:p,key:a},v.a.createElement(K.Controller,{component:ie,cposy:e.cposy,data:t,scrollHandler:l,idx:a,sponsoredByLabel:e.config.ads.sponsored_label_support,titleClassName:e.titleClassName})):v.a.createElement(ee.a,ne({className:m,key:a,nodeName:"li",payload:{url:n},style:p},s),v.a.createElement(Y.a,g,i,v.a.createElement("div",{className:"Fz(12px) Fw(b) Lh(16px) LineClamp(3,48px)"},t.get("title")),v.a.createElement("div",{className:"C(#959595) Mt(2px)"},t.get("publisher"))))})},render:function(){if(!this.props.relatedItems)return null;var e=o()("Mt(12px) Fz(11px) C(#7200ff) Whs(nw) Pos(r) Z(1) Lh(18px)",this.props.className);return v.a.createElement("ul",{className:e},this.getRelatedItemComponents())}}),re=a(685),le=a.n(re),ce=a(650),de=a(644);var pe=l()({displayName:"StorylineScrollview",autobind:!1,mixins:[M.a,X.ComponentMixin],contextTypes:{session:f.a.object},statics:{ignoreImmutableCheck:{props:{config:"SKIP_SHOULD_UPDATE",navParams:"SKIP_SHOULD_UPDATE",wrapperModel:"SKIP_SHOULD_UPDATE"}}},propTypes:{},componentDidMount:function(){var e=this.props.storyline||g.a.List();this.state.numToRender<e.size&&this.setState({numToRender:e.size})},componentWillReceiveProps:function(e){this.props.storyline!==e.storyline&&this.setState(this.getState(e,!0))},getState:function(e,t){var a=e.storyline||g.a.List();return{numToRender:t?a.size:e.config.pageload_storyline_count||3,showImages:a.every(this.getStoryImage)}},getInitialState:function(){return this.reelStore=this.getStore(de.a),this.getState(this.props,!1)},getStoryImage:function(e){if("reel"===e.get("subtype")&&e.getIn(["imageSize","img:reel"]))return e.getIn(["imageSize","img:reel"]);var t=e.get("images")||g.a.Map();return t.get("small_fixed")||t.get("square")},getStorylineComponents:function(){var e=this,t=e.props,a=e.state,n=t.config,s=a.showImages,i=t.storyline||g.a.List(),r=t.config.ui||{},l=r.show_read,c="smartphone"===e.context.session.dimensions.device;if((r.storyline_min||1)>i.size)return null;const p=o()("Td(n) D(ib) Va(t) C($c-fuji-blue-4-b) W(100%)",{"C(#959595):vi":l}),m=o()("Fz(13px) LineClamp(3,48px)",{"C(#000) Fw(n)":c,"C(#0078ff):h Fw(b)":!c});return(i=i.slice(0,a.numToRender)).map((a,i)=>{var o="reel"===a.get("subtype");g.a.Map.isMap(a)&&o&&(a=Object(C.b)(a,n,this.reelStore,n.channelName));var l,u,h=o&&c?r.storyline_reel_link_path:a.get("link")||"",f=s?e.getStoryImage(a):null,b=x.c(a,f,!0),_={className:p,followLink:x.s(a,t.config),href:h,i13nModel:Object.assign({},b,{elm:"rhdln",pos:i+2}),navParams:{itemI13n:d()(this.props,["navParams","itemI13n"]),url:a.get("url")}},y=a.get("title");if(f){u={maxWidth:f.get("width")},l=v.a.createElement(q.Img,{url:f.get("url"),checkPosition:!1,className:"Mb(5px) W(100%) H(a)",forceLoad:!0,width:f.get("width"),height:f.get("height"),alt:y})}return v.a.createElement("li",{className:"D(ib) Mend(12px) Whs(n) W(44%)",style:u,key:i},v.a.createElement(Y.a,_,l,v.a.createElement("div",{className:m},y),v.a.createElement("div",{className:"C(#959595) Pt(2px)"},a.get("publisher"))))})},render:function(){var e,t=o()("Mstart(-20px) Mend(-12px) Mt(20px)",this.props.className);return this.props.storyline&&(e=this.getStorylineComponents()),e?v.a.createElement(y.a,{axis:"x",className:t,stopPropagation:!0},v.a.createElement("ul",{className:"Whs(nw) Pos(r) Z(1) Lh(16px) Fz(11px) Mstart(20px)"},e)):null}}),me=a(1808),ue=a.n(me),ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},he=l()({displayName:"Featured",autobind:!1,mixins:[M.a,P.a,T.a,k.a],contextTypes:{intl:f.a.object.isRequired},propTypes:{},getInitialState:function(){return this.reelStore=this.getStore(de.a),this._getState(this.props)},componentWillMount:function(){this.onClickToggle=this.onClickToggle.bind(this)},componentDidMount:function(){this.setState({buttons:x.t(this.props)})},componentWillReceiveProps:function(e){if(e.data!==this.props.data||e.relatedItems!==this.props.relatedItems){var t=this._getState(e);t.buttons=this.state.buttons,this.setState(t)}},_getState:function(e){var t=e.data,a=x.d(e),n=x.q(t);return a.image=this._getImage(t),a.model=x.c(t,a.image,e.index),a.storylineInitValue=n,a.storylineVisible=n,a.title=null,a},_getImage:function(e){var t=e.get("images")||g.a.Map();return t.get("medium")||t.get("original")},_generateImage:function(e,t){var a,n=this.props.data,s=this.props.config,i=s.video||{},r=s.ui||{},l=r.use_img,c=x.p(this.props),d=o()("Pos(r) smartphone_Mx(a) smartphone_Mb(12px) Maw(500px)",{"Ov(h)":l}),p=this.state.image||g.a.Map(),m=p.get("width")||0,u=p.get("height")||0,h=r.thumbnail_min_width||0;if(e)return v.a.createElement("div",{className:d},this._generateVideoThumbnail(n,i,t));if(m&&m>=h){var f=Math.round(u/m*100);0===this.props.index&&(f=Math.min(f,75));var b,_=l?"img":"div",y={},C={url:p.get("url"),nodeName:_,forceLoad:!c,checkPosition:!1,className:o()("Mb(6px)",{"Bdrs(2px)":"sidekick"===r.view,"W(100%) Pos(a)":l},"Bgz(cv) Trsdu(0s)!")};if(l?y.paddingBottom=f+"%":C.style={paddingBottom:f+"%"},this.state.typeIcon){var E="sidekick"===r.view,M=r.magazine_icon,I=M?16:E?20:30,P=E?50:80;b=v.a.createElement(S.TypeIcon,{iconSize:I,lazyLoad:c,magazineFormat:M,orbSize:P,type:this.state.typeIcon})}var w=v.a.createElement(q.Img,C);l&&(w=v.a.createElement("div",{style:y},v.a.createElement(q.Img,C))),a=v.a.createElement("div",{className:d},w,b)}return a},_generateVideoThumbnail:function(e,t,a){var n,s,i,o={},r={autoplay:t.autoplay,cpos:this.state.model.cpos,enableAd:t.enable_ads,energySaverMode:t.energy_saver_mode,mute:t.mute,stopBufferingOnPause:t.disable_buffer_on_pause,videoId:e.get("id")};if(t.exp_type&&(r.expType=t.exp_type),this.props.i13n){const e=this.props.i13n.getI13nNode().getMergedModel();r.sec=e.sec,r.ccode=e.ccode;var l=this.getStore(m.a).getI13nConfig();r.rid=d()(l,["rapid","keys","_rid"])}return a?this._addVideoReelProps(e,t,r):r.navToUrlOnClick=t.navigate_on_click&&e.get("link"),(o=x.l(r)).vpClassName="H(0) Pb(56.25%)",t.enable_cc_on_mute&&(o.ccOnMute=!0),a&&(s=this._getCustomReelComponentConfig(o)),n=s?H.a:ue.a,i=s?{components:[s]}:o,v.a.createElement(n,i)},_addVideoReelProps:function(e,t,a){var n=e.mediaItem,s=n&&n.id?n:{id:e.id,type:"video"},i=this.context.getStore(Z.a),o=i&&i.getPageConfig(),r=this.reelStore.getPlaylist(o.channelName);a.expName=t.exp_name||this.reelStore.getExpName(o.channelName),a.expType=t.exp_type||"default",a.showTitleOnHover=t.show_title_on_hover||!0,a.showControls=t.show_controls||!0,a.displayMarkers=t.display_markers||!1,a.hidePlaylist=t.hide_playlist||!0,a.video_reel=!0,a.mediaItem=s,a.playlist={mediaItems:r}},_getCustomReelComponentConfig(e){var t,a=this.context.getStore(Z.a),n=a&&a.getPageConfig(),s=n&&n.enableCustomReelComponent&&a.getComposite(n.customReelComponentId);return s&&s.components&&((t=Object.assign({},s.components[0])).props.videoProps=e),t},_generateStoryline:function(){var e=this.props.data.get("storyline"),t=d()(this.props.config,["ui","storyline_min_count"])||e&&e.size||0;if(this.state.storylineVisible&&e&&e.size>=t)return v.a.createElement(pe,{config:this.props.config,storyline:e,wrapperModel:this.state.model,navParams:this.props.navParams})},_generateRelatedContent:function(){var e=this.state.relatedItems;if(e){var t=this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"});return v.a.createElement(S.Drawer,{className:"stream-related-content Mb(-12px)",closeButton:!1},v.a.createElement("p",{className:"Fz(13px) Fw(b) C(#111) Mt(12px) Px(12px) Mx(-12px) Pt(12px) Mb(-8px) Bdtw(12px) Bdts(s) Bdtc(#eee)"},t),v.a.createElement(y.a,{axis:"x",className:"Mend(-12px) Mstart(0) Mt(6px) Mb(4px)",stopPropagation:!0},v.a.createElement(oe,{relatedItems:e,config:this.props.config})))}},_generateStorylineToggle:function(){var e=this.props.data,t=e.get("storyline"),a=this.context.intl.formatMessage,n=x.q(e),s=e.get("publisher");if(t&&t.size){var i,r=this.state.storylineVisible,l=this.state.storylineInitValue,c=o()("Mstart(4px) Trsdu(.42s) Pos(a) T(-5%)",{"Rotate(-180deg)":l&&!r,"Rotate(180deg)":!l&&r});i=a(n?r?{id:"HIDE_STORIES"}:{id:"SHOW_STORIES"}:r?{id:"HIDE_SOURCES"}:{id:"SHOW_SOURCES"});var d={elm:"btn",elmt:r?"hide":"expand"};return v.a.createElement(W.I13nButton,{className:o()("Pos(r) D(b) P(0) Fz(11px) smartphone_Fz(13px) Bd(0) Z(1) O(0) Whs(nw) Lh(1)",{"C(#959595)":s,"C(#0078ff)":!s}),i13nModel:d,onClick:this.onClickToggle,style:{WebkitTapHighlightColor:"transparent"}},v.a.createElement("span",{className:"Ell Maw(140px) Maw(110px)--sm320 D(ib)"},s||i),v.a.createElement($.Icon,{asset:l?L.a:D.a,className:c,color:s?"#959595":"#0078ff",height:16,width:16,style:{verticalAlign:"initial"}}))}},onClickToggle:function(){this.setState({storylineVisible:!this.state.storylineVisible})},render:function(){var e,t=this.props,a=t.config,n=a.ui||{},s=t.data,i=s.get("summary"),r=s.get("link")||"",l=n.attribution_pos,c=n.title_pos||"bottom",p=this.state.supportsVideoAutoplay&&x.o(s,a),m=C.f(s,a,this.reelStore),u=m&&C.e(s,this.reelStore),g=s.get("storyline"),h=g&&g.size>0,f="roundup"===s.getIn(["clusterInfo","type"]),b=n.link_classnames,_=n.provider_classnames,y=n.show_label;m&&(p=!0,c=u&&n.title_pos_live_reel||c,y=u&&void 0!==n.show_label_live_reel?n.show_label_live_reel:y),e=f?"needtoknow":"featured";var E,M={className:o()(b||"Fz(13px) LineClamp(4,96px)","C(#0078ff):h Td(n)",{"C($c-fuji-blue-4-b) smartphone_C(#000)":!t.read,"C(#959595)":t.read,"smartphone_Fz(19px)":"thingrid"!==n.layout}),followLink:x.s(s,a),href:r,i13nModel:Object.assign({},this.state.model,{elm:"hdln",pos:1}),navParams:Object.assign(x.h(s,a),t.navParams),target:s.get("off_network")?d()(a,["offnet","target"]):void 0},I=this._generateImage(p,m);y&&(E=v.a.createElement(F,{data:s}));var P,w=o()({"Mb(2px)":"top"===l,"Ell W(44%)":"bottom"===l&&h}),T=v.a.createElement(S.Attribution,{className:w,data:s});if(!I&&!p){var N=o()("M(0) Mt(12px) Lh(18px) LineClamp(3,54.015px)",{"C(#959595)":t.read});P=v.a.createElement("p",{className:N},i)}var k=p?null:v.a.createElement("u",{className:"StretchedBox Z(1)"}),A=o()({"Py(20px) smartphone_Px(20px)":"sidekick"!==n.view,"Py(14px) smartphone_Px(20px)":"sidekick"===n.view&&"thingrid"!==n.layout,"Py(10px) H(190px) Px(10px)":"sidekick"===n.view&&"thingrid"===n.layout},"smartphone_Bxsh(streamBoxShadow) Cf",t.className),D=s.get("title");m&&(D=u?C.c(s,this.reelStore):this.context.intl.formatMessage({id:"VIDEO_REEL_TITLE"}),D=null!==this.state.title?this.state.title:D);var O=v.a.createElement("h3",{className:o()("M(0) Py(1px)",{"Mb(12px)":"top"===c,"Pos(a) B(50px) Start(16px) Lh(22px)":"inline-bottom"===c})},v.a.createElement(Y.a,M,v.a.createElement("span",{className:"Fw(600) smartphone_Fw(500)"},D),k)),L=x.t(t);return v.a.createElement(W.I13nDiv,{className:A,i13nModel:this.state.model,"data-test-locator":e},v.a.createElement("div",{className:"Pos(r)"},E,"top"===l?T:void 0,v.a.createElement("div",{className:"Pos(r)"},"top"===c?O:void 0,I,"bottom"===c?O:void 0,P,L||h||"bottom"===l?v.a.createElement("div",{className:o()(_||"Lh(1.2) Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1)",{"Mt(20px)":h&&"sidekick"!==n.view,"Mt(10px)":!h&&"sidekick"!==n.view,"Mt(4px) C(#96989f)":"sidekick"===n.view,"smartphone_H(15px)":L})},this._renderButtons(),h?this._generateStorylineToggle():"bottom"===l?T:void 0):void 0)),this._generateStoryline(),this._generateRelatedContent())},_renderButtons:function(){if(this.state.buttons)return v.a.createElement("div",{className:"NoJs_D(n) Pos(a) End(0) B(-6px)"},this.renderComment(),this.renderShareModal())},renderComment:function(){var e=this.props.data,t=this.props.config;if(x.u(e,t)){var a={count:e.get("commentCount"),iconSize:25,model:this.state.model,navParams:{pageTitle:e.get("title"),url:e.get("url")},url:e.get("link"),uuid:e.get("id")};return t.persist_category&&(a.navParams.category=t.category),v.a.createElement(U.a,a)}},renderShareModal:function(){var e=this.props,t=e.config,a=e.data;if(x.v(a,t)){var n={buttonRenderer:this.getOpenModalButtonRenderer(),buttonsToShow:x.e(a,t),className:"D(ib)",enableTumblrReblog:!0,iconSize:25,twitterId:t.twitter_id};return v.a.createElement(ce.ShareModal,ge({},x.j(a),n))}},getOpenModalButtonRenderer:function(){return function(e){return v.a.createElement(W.I13nButton,{className:"O(0):f Bd(0) P(0) Pstart(10px)--sm320 D(ib) Va(m) Pstart(23px)",i13nModel:{itc:1,elm:"share",elmt:"btn",slk:"share",tar:null,tar_uri:null},onClick:e},v.a.createElement($.Icon,{asset:le.a,height:25,color:"#ccc",style:{margin:"auto",verticalAlign:"bottom",position:"relative",top:"-3px"}}))}}}),fe=a(90),be=a.n(fe),ve=a(2021),_e=a(2145),ye=a(1904),xe=a(19),Ce=a(694),Se=a(695);const Ee=l()({mixins:[M.a],displayName:"UserintentConfirm",statics:{storeListeners:[Se.a],componentConfig:{name:"componentUserintent"}},propTypes:{className:f.a.string,index:f.a.number,intl:xe.intlShape,uuid:f.a.string,publisher:f.a.string,publisherId:f.a.string},getDefaultProps:function(){return{className:""}},getData:function(){const e=this.stores.userintent;return e&&e.getStateJson()||{}},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(Se.a),this.executeAction(Ce.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},handleShowManagement:function(e){const{uuid:t,publisherId:a}=this.props;this.executeAction(Ce.getMutedPublishers,{target:t,showManagement:!0,publisher:a}),e.preventDefault()},handleUserPreference:function(e){const{uuid:t,publisher:a,publisherId:n}=this.props;this.executeAction(Ce.managePreference,{target:t,isMuted:!0,publisher:a,publisherId:n}),e.preventDefault()},render:function(){const{uuid:e,intl:t,className:a="",action:n="",publisher:s}=this.props,i=this.context.getStore("UserStore"),o=i.isSignedIn()||i.isRecognized(),r="show_more"===n?"YOU_WILL_SEE_MORE":"YOU_WILL_SEE_LESS",l=t.formatMessage({id:r},{publisher:s}),c=o?v.a.createElement(W.I13nAnchor,{key:"userintent-manage-"+e,className:"Fl(end) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleShowManagement,onClick:this.handleShowManagement,i13nModel:Object(ye.b)("confirmManage")},t.formatMessage({id:"MANAGE_PUBLISHERS_SHORT"})):v.a.createElement("div",null,t.formatMessage({id:"SIGN_IN_TO_MANAGE_PUBLISHERS"}),v.a.createElement(W.I13nAnchor,{key:"userintent-signin-"+e,className:"Fz(14px) C($c-fuji-blue-1-a)",href:"https://login.yahoo.com/",i13nModel:Object(ye.b)("confirmSignin")},t.formatMessage({id:"SIGN_IN"}))),d=`Pos(r) userintent-confirm Bgc($c-fuji-grey-a) ($c-fuji-grey-c) Bds(s) Bdc($c-fuji-grey-c) Bdw(1px) Bdrs(2px) Px(14px) Py(12px) ${a}`;return v.a.createElement("div",{className:d,key:"userintent-confirm-"+e},v.a.createElement("h4",{className:"Fw(n) Fz(15px) Lh(24px)"},l,v.a.createElement(W.I13nAnchor,{key:"userintent-undo-"+e,className:"Mstart(5px) Fz(14px) C($c-fuji-blue-1-a)",href:"#",onTouchStart:this.handleUserPreference,onClick:this.handleUserPreference,i13nModel:Object(ye.b)("confirmUndo",{slk:s})},t.formatMessage({id:"UNDO"})),c))}});var Me=Object(xe.injectIntl)(Ee),Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},Pe=Object(W.createI13nNode)(ce.ShareButtonMenu),we=Object(W.createI13nNode)(ce.ShareButtonGroup),Te=l()({displayName:"MegaItem",autobind:!1,mixins:[M.a,P.a,T.a],contextTypes:{intl:f.a.object.isRequired,session:f.a.object},propTypes:{},getInitialState:function(){return this.pageStore=this.context.getStore(Z.a),this._getState(this.props)},componentWillMount:function(){this.props.config.ui.related_enabled&&(this._hideRelatedContent=this._hideRelatedContent.bind(this))},componentDidMount:function(){const e=this.props.config.video||{},{deleteYvapCookie:t}=e;if(t){var a=new Date;a.setDate(a.getDate()-30),be.a.set(t,"",{expires:a})}this.setState({buttons:x.t(this.props)})},componentWillReceiveProps:function(e){const{config:t,data:a}=this.props,n=a.get("id"),{target:s}=e.userIntentData||{},i=!x.w(t)||!s||s!==n;if(e.data===a&&i&&e.relatedItems===this.props.relatedItems)return;const o=this._getState(e);o.buttons=this.state.buttons,this.setState(o)},_getState:function(e){var t=x.d(e);return t.images=this._getImages(e.data),t.image=t.images["1x"]||t.images["2x"],t.model=x.c(e.data,t.image,e.index),t},_getImages:function(e){var t=!!e.get("storyline"),a=e.get("images");return a?t?{"1x":a.get("img:220x193")||a.get("square"),"2x":a.get("img:440x386")||a.get("square")}:{"1x":a.get("img:220x123")||a.get("img:255x162")||a.get("square"),"2x":a.get("img:440x246")||a.get("img:510x324")||a.get("square")}:{}},_generateButtons:function(e,t){if(this.state.buttons){var a=this.renderComment(e),n=d()(this.props.config,["ui","share_buttons"],{}).inline?this.renderShareButtonGroup():this.renderShareButtonMenu(e),s=this.renderUserintent();if("bottom"===e)return v.a.createElement("div",{className:"Mt(8px) Mt(2px)--sm1024 Pos(a) NoJs_D(n)"},n,a);if("right"===e)return v.a.createElement("div",{className:o()("Pos(a) T(14px) End(0) W(36px) Ta(c) NoJs_D(n)",{"Mt(20px)":t})},a,n,s)}},renderShareButtonGroup:function(){const{config:e,data:t}=this.props;if(!x.v(t,e))return;const a={borderColorOverride:"transparent",buttonsToShow:x.e(t,e),className:"D(tbc) Va(b)",hoverBorderColorOverride:"transparent",iconSize:"18",roundButtonDiameter:20,buttonSpacingPixels:21,sharingConfig:{twitterId:e.twitter_id},useButtonColorForBackgroundOnHover:!1,hoverColors:d()(e,["ui","share_buttons","hoverColors"]),colorOverride:"#babec8",model:{slk:null,tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)};return v.a.createElement(we,Ie({},a,x.i(t,this.pageStore)))},renderShareButtonMenu:function(e){var t=this.props.config,a=this.props.data;if(x.v(a,t)){var n=t.ui||{},s=Object.assign({ariaLabel:this.context.intl.formatMessage({id:"SHARE_MENU"}),buttonsToShow:x.e(a,t),className:o()({"Mend(30px) Va(m)":"bottom"===e}),isTouchDevice:n.touch_device,openButtonColor:"#959595",openButtonIconName:"share",openButtonIconSize:20,openDirection:"right"===e?"left":"down",twitterId:t.twitter_id,model:{elm:"share",elmt:"btn",itc:1,slk:"share",tar:null,tar_uri:null},ylkData:this._getShareYlkData(this.state.model)},x.j(a,this.pageStore));return v.a.createElement(Pe,s)}},_getShareYlkData:function(e){return{sec:"strm",g:e.g,cpos:e.cpos,bpos:e.bpos,pkgt:e.pkgt,cnt_tpc:e.cnt_tpc,ct:e.ct}},_generateCategoryLabel:function(e){var t=d()(this.props.config,["ui","attribution_classnames"])||"";return F.call(this,{className:o()(t||"Fz(12px)","Fw(b) Tt(c) D(ib) Mb(6px)"),data:e,key:"catlabel"},this.context)},_generateHeader:function(e,t){const{data:a,read:n,config:s}=this.props;var i=s.ui||{},r=i.link_classnames,l=i.h3_classnames;l=this._shouldRenderHeaderAndAttrAboveAll()?"Mb(15px)":l||"Mb(5px)";var c={className:o()(r||"Fw(b) Fz(20px) Lh(23px) Fz(17px)--sm1024 Lh(19px)--sm1024","Td(n) C(#0078ff):h",{"C(#000)":!n,"C(#959595)":n,"LineClamp(2,46px) LineClamp(2,38px)--sm1024":!t,"LineClamp(4,92px) LineClamp(4,76px)--sm1024":t}),i13nModel:{elm:"hdln",pos:1}};return v.a.createElement("h3",{className:l,key:"header"},v.a.createElement(Y.a,Ie({},e,c),v.a.createElement("u",{className:"StretchedBox"}),a.get("title")))},_shouldRenderHeaderAndAttrAboveAll:function(){const{data:e,config:t}=this.props,a=x.g(e,t);return this._isInlineVideo()&&"large"===a},_isInlineVideo:function(){const{data:e,config:t}=this.props;return this.state.supportsVideoAutoplay&&x.o(e,t)},_hideRelatedContent:function(){this.setState({relatedItems:null})},_generateRelatedContent:function(e){var t=this.props,a=this.state,n=a.relatedItems;if(n)return v.a.createElement(S.Drawer,{className:o()("stream-related-content Cl(b) Mt(12px)",{"D(n)":e}),closeButtonModel:{pkgt:"youmaylike"},onClose:this._hideRelatedContent},v.a.createElement("p",{className:"Fz(13px) Fw(b) C(#111) Px(12px) Mx(-12px)"},this.context.intl.formatMessage({id:"YOU_MIGHT_ALSO_LIKE"})),v.a.createElement(oe,{className:"Mend(-8px)",config:t.config,cposy:a.model.cposy,relatedItems:n,titleClassName:"C(#000)"}))},renderComment:function(e){const{config:t,data:a,navParams:n}=this.props;if(!x.u(a,t))return;const s=a.get("id"),i=a.get("commentCount");let r={count:i,display:"bottom"===e?"inline":"inline-block",openDirection:"right"===e?"left":"down",enableHoverColor:!0,enableTooltip:"right"===e,iconColor:"#959595",iconSize:20,navParams:Object.assign(x.h(a,t),n),stringClassName:o()("Fw(b)",{"Mt(-14px)":"right"===e&&i>0}),textAlign:"bottom"===e?"right":"top",url:a.get("link"),uuid:s};return a.get("off_network")&&(r.target=d()(t,["offnet","target"])||void 0),v.a.createElement(U.a,r)},renderUserintent:function(){const e=this.props,{config:t,data:a}=e,n=a.get("id"),s=a.get("publisher"),i=a.get("publisher_id");if(x.w(t)&&i)return v.a.createElement(_e.a,{index:e.index,config:d()(t,["ui","user_intent"]),uuid:n,publisher:s,publisherId:i,viewport:{margins:{usePercent:!0,top:-.2,bottom:-.2}}})},renderUserintentConfirm:function(){const e=this.props,{config:t,data:a}=e,n=a.get("id"),s=a.get("publisher"),i=a.get("publisher_id");if(x.w(t))return v.a.createElement(Me,{index:e.index,uuid:n,publisher:s,publisherId:i})},render:function(){var e,t,a=this.props,n=this.state,s=a.data,i=a.config,r=i.ui||{},l=r.prerender||{},c=s.get("publisher"),p=s.get("storyline"),u=x.w(i),g=a.userIntentData||{},h=u&&g[c],f=n.storylineIds,b=s.get("link")||"",_=s.get("id"),y=this._isInlineVideo(),C=y&&r.inStreamVideo&&r.inStreamVideo.enabled,E=Object.assign(x.h(s,i),a.navParams),M=s.get("video_enrichment"),I=y&&M?M.get("uuid"):_,P={followLink:x.s(s,i),href:b,target:s.get("off_network")?d()(i,["offnet","target"]):void 0,navParams:E},w=a.header||this._generateHeader(P,C),T=r.attribution_classnames,N=r.attribution_pos?v.a.createElement(S.Attribution,{className:o()(T||"Fz(11px)","D(ib) Mb(6px)"),data:s,key:"attribution"}):null;r.show_label&&(e=a.categoryLabel||this._generateCategoryLabel(s));var k,A=this._generateRelatedContent(h),D=x.g(s,i),O=this._shouldRenderHeaderAndAttrAboveAll(),L=n.image,R=r.button_pos||"bottom",B="right"===R,j=this._generateButtons(R,!(!c&&!e)),z=r.summary_classnames;if(L){var F,U=!x.p(a),V=o()("Fl(start) Pos(r) Mt(2px)",C&&r.inStreamVideo.image_classes||r.image_classes||{small:"W(30%) Maw(255px)",medium:"W(50%) Maw(400px)",large:"W(100%) Maw(880px) Fl(n)!"}[D]),H=Math.round(L.get("height")/L.get("width")*100);if(n.typeIcon){var $=r.magazine_icon;F=v.a.createElement(S.TypeIcon,{iconSize:$?16:20,lazyLoad:!U,magazineFormat:$,orbSize:50,type:n.typeIcon})}if(y){var G={},Y=o()(V,{"Mb(15px)!":O}),J=i.video||{},Z={autoplay:J.autoplay,ccOnMute:J.ccOnMute,continuousPlay:J.continuous_play,clickParams:Object.assign({},n.model),cpos:n.model.cpos,enableAd:J.enable_ads,energySaverMode:J.energy_saver_mode,mute:J.mute,navToUrlOnClick:J.navigate_on_click&&b,replayonlyendscreen:J.replayonlyendscreen,showTitleOnHover:!J.disable_title_on_hover,stopBufferingOnPause:J.disable_buffer_on_pause,videoId:I};if(J.exp_type&&(Z.expType=J.exp_type),J.exp_name&&(Z.expName=J.exp_name),J.YVAP&&(Z.YVAP=J.YVAP),a.i13n){var K=a.i13n.getI13nNode().getMergedModel();Z.ccode=K.ccode,Z.sec=K.sec;var X=this.getStore(m.a).getI13nConfig();Z.rid=d()(X,["rapid","keys","_rid"])}var Q=p&&!C?"Pb(87.45%)":"Pb(56.25%)";(G=x.l(Z)).vpClassName="H(0) "+Q,J.enable_cc_on_mute&&(G.ccOnMute=!0),k=v.a.createElement("div",{className:Y},v.a.createElement(ue.a,G))}k||(k=v.a.createElement("div",{className:V},v.a.createElement("div",{className:"H(0) Ov(h) Bdrs(2px)",style:{paddingBottom:H+"%"}},v.a.createElement(q.Img,{url:L.get("url"),srcSet:x.a(n.images),forceLoad:U,checkPosition:!1,className:"W(100%) Trsdu(0s)! Bdrs(2px)",alt:s.get("title")}),F))),p&&!C&&(t=v.a.createElement(ve.a,{config:i,imageClassName:"Bdrs(2px)",includeBreakPoints:!r.touch_device,index:a.index,storyline:p,storylineIds:f}))}var te=o()("Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024",{"LineClamp(2,38px) LineClamp(2,34px)--sm1024":k&&!O&&!C,"LineClamp(3,57px) LineClamp(3,51px)--sm1024":!k,"LineClamp(5,95px) LineClamp(4,68px)--sm1024":O||C}),ae=o()(z||te,"M(0)",{"D(n)--sm1024 Bxz(bb) Pb(2px)":!!t,"C(#959595)":a.read}),ne=o()("Ov(h)",{"Pend(14%)":!k,"Pend(0)--sm1024":!k&&!B,"Pend(44px)--sm1024":!k&&B,"Pend(44px)":!!k&&B,"Pstart(25px)":!!k&&"large"!==D,"Pos(r)":y,"JsEnabled_Mb(32px)":(j||x.t(a))&&!B,"W(100%)":!!k&&"large"===D});const se=[e,N,w],ie=h&&this.renderUserintentConfirm();return v.a.createElement(W.I13nDiv,{className:o()("Py(14px) Pos(r)",{"Trs(streamItemTransition)":u,"Mih(100px)":u&&!h,"Mih(44px)":h}),"data-test-locator":"mega",i13nModel:n.model},v.a.createElement(ee.a,Ie({className:o()("Cf",{"D(n)":h}),nodeName:"div",payload:{url:b,itemI13n:E.itemI13n}},l),O?se:void 0,k,v.a.createElement("div",{className:ne},O?void 0:se,v.a.createElement("p",{className:ae},s.get("summary")),t,B?void 0:j),B?j:void 0),A,ie)}}),Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ke=l()({displayName:"SimpleItem",autobind:!1,mixins:[M.a,P.a],contextTypes:{session:f.a.object},propTypes:{},render:function(){var e=this.props,t=e.config,a=e.data,n=t.ui||{},s=n.view,i="row"===s,r="headlines"===s,l=this.context.session.dimensions.device,c="smartphone"===l,p="smartphone-lite"===l,m=r&&(c||p),u="imageView"===s,g=x.p(e),h=a.get("images"),f=(i?a.getIn(["images","img:198x115"]):u?a.getIn(["images","img:300x100"]):c||p?a.getIn(["images","img:100x100"]):a.getIn(["images","img:72x72"]))||a.getIn(["images","original"]),b=a.get("link")||"",_={data:a,propertyColors:n.property_colors,textClass:"C(#96989f)"},y=x.c(a,f,e.index);y.elm="hdln",y.pos=1;var C,E={className:o()("Td(n)",{"D(b) Td(n):f":r,"D(ib) Mt(6px)":!r,"C(#0078ff):h C($c-fuji-blue-4-b)":!m}),followLink:x.s(a,t),href:b,i13nModel:y,navParams:Object.assign(x.h(a,t),e.navParams),target:a.get("off_network")?d()(t,["offnet","target"]):void 0},M=m?o()("M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px)","Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)"):"Fz(13px) Fw(700) Pb(3px) LineClamp(3,48px)",I=x.k(a,t);return I&&(C=v.a.createElement(S.TypeIcon,{iconSize:16,lazyLoad:g,orbSize:40,type:I})),v.a.createElement("div",{className:o()("Lts(n) Whs(n)",{"C($c-fuji-blue-4-b)":!e.read,"C(#959595)":e.read,"Px(9px)":i,"Pend(13px) Pos(r)":r,"Pb(20px) Pstart(20px)":m,"D(tb)":m,"D(b)":!m})},v.a.createElement("div",{className:o()({"D(tbr)":m})},v.a.createElement("div",{className:o()("Maw(100%) Pos(r) Cur(p) Bdrs(2px)",{"Pb(58.1%) Bgc(#ddd)":i,"D(tbc) W(120px) W(100px)--maw370":m&&h,"W(72px) H(72px) D(ib) Mend(10px) Fl(start)":r&&!c&&!p,"W(300px) H(100px) D(ib) Mend(10px) Fl(start) Bgc(#ddd)":u,"D(n)":r&&!h,"H(0)":!(r&&!c&&!p||u)})},v.a.createElement(q.Img,{checkPosition:!1,className:o()("Tdrsu(0s)!",{"StretchedBox W(100%) H(100%) ie-7_H(a) Bdrs(2px)":!r,"Bdrs(2px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":m,"W(100%) H(100%) ie-7_H(a) Bdrs(2px)":r&&!c&&!p}),forceLoad:!g,url:f&&f.get("url")}),C),v.a.createElement("div",{className:o()({"D(tbc) Va(t) W(100%)":r,"Pstart(20px)":h&&m})},r?v.a.createElement("div",null,this.renderHeadline(E,M,_,u),this.renderComment()):this.renderHeadline(E,M,_,u))))},renderHeadline:function(e,t,a,n){var s=this.props||{},i=(s.config||{}).ui||{},o=s.data;return o?v.a.createElement(Y.a,e,n?null:v.a.createElement("h4",{className:t},o.get("title")),i.attribution_pos?v.a.createElement(S.Attribution,Ne({className:"Fz(12px) C(#959595)! Ell Mb(2px)"},a)):null,v.a.createElement("u",{className:"StretchedBox"})):null},renderComment:function(){var e=this.props.data,t=this.props.config,a=this.props.navParams;if(!e||!t||!x.u(e,t))return null;var n={count:e.get("commentCount"),stringClassName:"Mstart(6px) Fw(500)! Fz(12px)!",showDescription:!0,iconColor:"#188fff",iconSize:18,navParams:Object.assign(x.h(e,t),a),textAlign:"right",url:e.get("link"),uuid:e.get("id")};return v.a.createElement(U.a,n)}}),Ae=a(28),De=a.n(Ae),Oe=a(13),Le=a.n(Oe),Re=a(46),Be=a.n(Re),je=a(683),ze=a(634),Fe=a(104),Ue=a(2146),Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};const He=["off_network","type"],We=(e,t)=>{const{items:a,errorItem:n,embedComponents:s}=e,i=t.session||{},o=i.isDevInfo,r=i.isYnet;let l=a.map((e,a)=>{const n=e.component,s=n.props.data,i=t.getComponent(n.bundleName,n.name),l={className:e.itemClasses||""};return o&&(l.className+=" Pos(r)"),r&&He.forEach(function(e){const t=s.get(e);void 0!==t&&(l["data-test-"+e]=String(t))}),v.a.createElement("li",Ve({key:e.key},l),o?v.a.createElement(S.DebugStreamItem,{data:s}):void 0,v.a.createElement(i,n.props))});return s&&s.forEach(e=>{var t=e.component;l.splice(e.index,0,t)}),v.a.createElement("ul",{className:"Mb(0) Ov(h) P(0) Wow(bw)"},l,n)};We.displayName="Items",We.contextTypes={getComponent:f.a.func.isRequired,session:f.a.object},We.propTypes={embedComponents:f.a.array,errorItem:f.a.object,items:f.a.array};var $e=We,qe=a(2147),Ge=a(117),Ye=a.n(Ge),Je=a(25),Ze=a.n(Je),Ke=a(1801),Xe=a(1557),Qe=a.n(Xe),et=a(1552),tt=a.n(et),at=a(2148),nt=a(673),st=a(2149),it=a(714),ot=a(378),rt=a.n(ot),lt=Object(W.createI13nNode)($e);var ct=a(2150),dt=a(1598),pt=function(e,t){if(!t.loadStreamAction)throw new Error(["A `loadStreamAction` is required to create a Stream.","Provide a `loadStreamAction` in the options passed to `createStream`."].join("\n"));var a=rt()("Stream:"+e.displayName);return l()({displayName:"Stream:"+e.displayName,autobind:!1,mixins:[M.a],statics:{componentConfig:t.componentConfig||{bundleName:"tdv2-applet-stream",name:"componentStream"},initializeAction:t.loadStreamAction,resources:t.resources||{streamItems:{action:it.a,params:nt.a,fallbackParams:st.a,resource:"StreamService"}}},contextTypes:{getComponent:f.a.func,intl:f.a.object,localStorage:f.a.object,logger:f.a.object,renderTarget:f.a.object.isRequired,session:f.a.object},propTypes:{},getDefaultProps:function(){return{componentConfig:{category:""}}},getInitialState:function(){a("getInitialState");var e=this.props;this.store=this.getStore(Ke.a),this.langStore=this.getStore(Ye.a),this.pageStore=this.getStore(Z.a),this.routeStore=this.getStore(Ze.a);var t={config:this._getConfig(e),fetching:!1,isMounted:!1};return t.data=this._getData(e.id,t.config.category),t},initialComponentActions:function(){if(!this.initialActionsExecuted){var e=this.state,t=e.config,a=t.ui||{},n=e.data.get("stream_items");if(n){if(this.initialActionsExecuted=!0,(d()(t,["batches","start_index"])||0)>0)return;if(a.dispatch_content_store){var s=!!Object(ze.getAppIdFromPageConfig)(this);this.executeAction(Qe.a,{items:n.toJS(),loadContentAction:s?tt.a:void 0,snippets:!0,sourceId:this.props.id,prefetch:t.use_prefetch,redisCompress:t.redisCompress,useSlingstoneLcp:je.f(t),ssEP:t&&t.batches&&t.batches.ss_endpoint||""})}}}},componentWillMount:function(){this.onStreamStoreChange=this.onStreamStoreChange.bind(this)},componentDidMount:function(){a("componentDidMount");var e=this;e.subscribers=[Be()("scroll",e.onScroll.bind(e),{enableScrollInfo:!0}),Be()("resize",e.onResize.bind(e))],e.store.addChangeListener(e.onStreamStoreChange),setImmediate(function(){e.initialComponentActions(),e.setState({isMounted:!0})})},shouldComponentUpdate:function(e,t){var a=this.state,n=t.config.ui||{};return this.context.renderTarget.isActive()&&t.data.get("category")===t.config.category&&(t.newRelatedItems||t.data!==a.data||t.fetching!==a.fetching||t.config.embedComponents!==a.config.embedComponents||t.isMounted!==a.isMounted&&(-1!==t.config.pageload_item_count||n.show_read)||Object(x.w)(t.config)&&t.userIntentData!==a.userIntentData)},componentDidUpdate:function(){a("componentDidUpdate"),this.state.newRelatedItems&&this.setState({newRelatedItems:!1}),this.onScroll(),this.initialComponentActions(),this.props.onComponentDidUpdate&&this.props.onComponentDidUpdate()},componentWillUnmount:function(){a("componentWillUnmount"),this.subscribers&&this.subscribers.forEach(function(e){e.unsubscribe()}),this.store.removeChangeListener(this.onStreamStoreChange)},componentWillReceiveProps:function(e){a("componentWillReceiveProps");var t=this._getConfig(e);t.pageload_item_count=-1,this.setState({config:t,data:this._getData(this.props.id,t.category)}),this._maxScroll=0},onScroll:function(e,a){if(this.context.renderTarget.isActive()){var n=this.state.config,s=this.state.data.get("more_items")||g.a.List(),i=d()(n,["batches","pagination"]),o=d()(n,["ui","scrollbuffer"])||900;if(i&&!this.state.fetching&&0!==s.count()){var r=a&&a.scroll&&a.scroll.top||window.scrollY||document.documentElement.scrollTop;if(!this._maxScroll||r>this._maxScroll){var l=Le.a.findDOMNode(this).getBoundingClientRect(),c=window.innerHeight||document.documentElement.clientHeight;if(this._maxScroll=Math.min(r,r+l.bottom),l.height&&l.bottom-o<c){if(!t.fetchMoreAction)throw new Error(["A `fetchMoreAction` is required to create a Stream with pagination enabled.","Either disable pagination in ./configs/component<MyComponent>.js under","`batches.pagination`, or provide a `fetchMoreAction` in the options passed","to `createStream`."].join("\n"));n.pageload_image_count=-1,this.state.fetching=!0,this.executeAction(t.fetchMoreAction,{componentProps:this.props,config:n})}}}}},onResize:function(e,t){this._maxScroll=0,this.onScroll(null,t)},onStreamStoreChange:function(e){if(a("onStreamStoreChange"),e){var t=this.props.id,n=e.type,s=this.state.config,i=s.ui||{},o=d()(s,["batches","start_index"])||0,r=s.category||"";if(e.id===t||o>0&&e.category===r)"STREAM_INIT"!==n&&"STREAM_BATCH"!==n||this.setState({data:this._getData(t,r),fetching:!1}),"STREAM_RELATED"===n&&this.setState({newRelatedItems:!0}),"STREAM_INIT"===n?(this._maxScroll=0,e.cached&&!e.fromLS||(this.initialActionsExecuted=!1)):this.onScroll();else if("STREAM_RESET"===n&&s.clear_on_navigate)this.setState({data:this._getData(t,r)});else if("STREAM_UPDATE_UUID"===n&&e.uuid&&i.related_enabled)setImmediate(this._fetchRelated.bind(this,e));else if("STREAM_PAGE_CATEGORY"===n&&!0===s.use_page_category){var l=this.store.getPageCategory();l&&r!==l&&(s.category=l,this.setState({config:s}))}else"USERINTENT_CHANGE"===n&&Object(x.w)(s)&&this.setState({userIntentData:e})}},_fetchRelated:function(e){var t=this.state.config.category,a=this.props.id,n=[],s=this.store;"STREAM_UPDATE_UUID"===e.type&&e.uuid&&s.isStreamItem(a,t,e.uuid)&&n.push(e.uuid),n.length&&this.executeAction(at.a,{config:this.state.config,instanceId:this.props.id,uuids:n})},_getData:function(e,t){var a=this.store.getInstance(e,t);return a.get("fromLS")?g.a.Map():a.get("data")},_getConfig:function(e){var t=Object.assign({},e.componentConfig,je.a(this.store,e.componentConfig));t.content_site=this._getContentSite(),t.twitter_id=this._getTwitterId();var a=t.ui&&t.ui.view;return"megastream"===a?(this.context.logger.warn("Stream: ui.view=megastream is deprecated. Please move to ui.view=mega"),t.ui=Object.assign({},t.ui,{button_pos:"right",image_classes:"W(26.5%) Maw(220px)",view:"mega"})):"list"===a&&(this.context.logger.warn("Stream: ui.view=list is deprecated. Please move to ui.view=mega"),t.ui=Object.assign({},t.ui,{view:"mega"})),"failsafe"===d()(this.context,["session","dimensions","mode"])?t=De()({},t,je.b(t)):d()(this.context,["session","isLightWeightBrowser"],!1)&&(t=De()({},t,je.d(t))),t},_getContentSite:function(){var e=this.routeStore.getCurrentRoute()||{};return d()(e,["params","contentSite"])||e.contentSite||d()(this.context,["session","dimensions","site"])||"fp"},_getTwitterId:function(){var e=this.pageStore.getPageData();return d()(e,["meta","name","twitter:site"])||d()(e,["meta","property","twitter:site"])||"Yahoo"},_getItemComponent:function(e,t,a){var n=Object.assign({props:{}},t),s=this.state.config,i=this.state.userIntentData;return n.props.key=`item-${a}-${e.get("id")}`,n.props.id=`item-${a}`,n.props.index=a,n.props.locales=this.props.locales,n.props.messages=this.langStore.getStrings(n.bundleName),n.props.navParams=je.c(s,this.state.data,e,a),n.props.config=s,n.props.data=e,Object(x.w)(s)&&i&&(n.props.userIntentData=i),d()(s,["ui","related_enabled"])&&(n.props.relatedItems=this.store.getRelatedItemsByUuid(e.get("id"))),n},_getEmbedComponents:function(e){const t=e.embedComponents;return t?t.map(e=>{const t=e.props||{},a={bundleName:e.bundleName,name:e.name,props:t},n="streamembed-"+e.index;return{component:v.a.createElement(Fe.Composite,{key:n,components:[a]}),index:e.index}}):[]},_makeItems:function(e,t,a){var n=this,s=n.context.localStorage,i="desktop"===n.context.session.dimensions.device,r=this.state.isMounted&&s&&s.getItem("strm-read")||{},l=a.ui||{},c=l.show_read,d=l.item_classnames;return t.map(function(t,a){var s=e.get(a),p=n._getItemComponent(s,t,a),m=s.get("id"),u=s.get("isPromoAd"),g=o()("js-stream-content",{"D(n)":p.props.hideItem,"Pos(r)":i,"Ov(h) Fl(start) P(0px) My(0px) Mb(-4px)":"thingrid"===l.layout,"H(210px) W(50%)--po W(33%)--lso":"thingrid"===l.layout&&!u,"W(100%)":"thingrid"===l.layout&&u},d);return p.props.read=!(!c||!r[m]),{key:"list-"+a,component:p,itemClasses:g}})},_makeTitle:function(e){var t=e.ui||{},a=t.title;if("disabled"!==a){var n=t.titleKey,s=t.titleValues;if(!n&&("sidekick"===t.view&&(n="SIDEKICK_TITLE"),"discussion"===t.view&&(n="SIDEPIC_TITLE"),e.use_article_category)){var i=this.store.getArticleCategoryLabel();i?(n="MORE_ON",s={category:i}):n="MORE"}if(a||n){var o={className:t.title_classnames,intl:this.context.intl,title:a,titleKey:n,titleValues:s};return v.a.createElement(qe.a,o)}}},getContentIndexByUuid:function(e,t){var a,n=e.size;if(n>0&&t)for(a=0;a<n;a++)if(e.getIn([a,"id"])===t)return a;return-1},render:function(){a("render");var t=this.state,n=t.data||g.a.Map(),i=t.config||{},o=i.ui||{},r=o.view;if(n.get("category")!==i.category)return v.a.createElement("div",null);var l=n.get("stream_items")||g.a.List(),c=l.size,p=d()(i,["batches","start_index"])||0,m=d()(i,["batches","end_index"])||c-1,u=i.pageload_item_count,h=!t.isMounted&&u>=0?u:c;m=Math.min(m,p+h-1);var f,b=l.slice(p,m+1),_=n.get("components")||g.a.List();if(_=_.slice(p,m+1).toJS(),o.exclude_current_content){var y=this.context.getStore(s.a).getCurrentContent(),x=y&&y.get("uuid"),C=this.getContentIndexByUuid(b,x);C>=0&&(b=b.splice(C,1),_.splice(C,1),c--)}if(0===p&&(c<i.min_count||0===c&&i.category)){if(!1===i.ui.show_error)return v.a.createElement("div",null);f=v.a.createElement(Ue.a,{itemCount:c,config:i})}var S=Object.assign({cat:i.category,ccode:n.get("ccode"),itc:0,sec:"strm"},i.i13n);"sidekick"===r&&(S.sec="sdkick");var E=v.a.createElement(lt,{embedComponents:this._getEmbedComponents(i),errorItem:f,items:this._makeItems(b,_,i),i13nModel:S}),M=Object.assign({appletTitle:this._makeTitle(i),errorItem:f,id:this.props.id},this.state);return v.a.createElement(e,M,E)}})}(a(2151).a,{fetchMoreAction:ct.a,loadStreamAction:dt.a}),mt=a(2152),ut=a(1774),gt=a.n(ut),ht=a(70),ft=a.n(ht);const bt={Featured:he,MegaItem:Te,SimpleItem:ke,Storyline:Te,Stream:pt,StreamAd:mt.a};t.controllerViews=bt;const vt={ContentStore:s.a,StreamStore:Ke.a,VideoCapabilitiesStore:gt.a,VideoLocationStore:ft.a};t.stores=vt;t.meta={dependencies:["react-share-buttons","tdv2-applet-userintent"]}},1766:function(e,t,a){"use strict";t.a=function(e){if(!e)return"";var t=Object.keys(e).reduce(function(t,a){var n=e[a];return n&&t.push(n.get("url")+" "+a),t},[]);return t.length>1?t.join():""},t.c=function(e,t,a,n){var i,o,l=e.get("i13n")||s.a.Map(),c=e.get("clusterInfo")||s.a.Map(),d=e.get("isTodayItem"),p=e.get("storyline"),m=e.get("type"),f=t&&"function"==typeof t.get&&t.get("fallback"),b=t&&!f,v={ct:r[m]||m,g:e.get("id")},_=h(e.get("link")||e.get("url")||"");_&&(v.tar=_.host,v.tar_uri=_.pathname);e.get("off_network")&&(v.tar_uri="offnet");var y=e.get("title");y&&(v.slk=y);d&&(v.aid=e.get("aid",""),v.g=v.aid?v.g:-1,v.expb=0);if(!n){v.refcnt=p?p.size:0,v.bpos=l.get("bpos"),v.cpos=l.get("cpos"),v.cposy=l.get("cposy"),v.ss_cid=c.get("id")||d&&e.get("id")||"",v.grpt=c.get("type")||"",v.cpos!==a+1&&(v.cpos=v.cposy=a+1),p&&(i=!!p.getIn([0,"images"]),o=!!p.getIn([1,"images"])),u(e)?(v.pkgt="need_to_know",v.subsec="needtoknow"):v.pkgt=p?i&&!o?"cluster_first_img":o&&!i?"cluster_second_img":!b||i||o?f&&p?"cluster_ph_img":b?"cluster_all_img":"cluster_no_img":"cluster_no_child_imgs":b?"orphan_img":f?"orphan_ph_img":"orphan_no_img";var x=g(e);x&&(v.cnt_tpc=x)}return v},t.j=c,t.i=function(e,t){var a=c(e,t);return{metaData:{description:a.description,link:a.url,picture:a.imageUrl,title:a.title}}},t.k=d,t.m=function(e){var t=e.get("type");return"ad"===t||"cm"===t},t.n=function(e){var t=e.get("listIdMixin")||e.get("editorsPick");return"true"===t||!0===t},t.o=function(e,t){var a=o()(t,["video","enable_video_enrichment"]),n=e.get("video_enrichment");return"video"===e.get("type")&&o()(t,["video","use_inline_video"])||n&&a&&n.get("uuid")},t.g=function(e,t){return o()(t,["ui","thumbnail_sizes",e.get("type")],"small")},t.e=p,t.p=m,t.q=u,t.d=function(e){var t=e.config,a=e.data,n=o()(t,["ui","storyline_navparam_enabled"]);return{buttons:!m(e)&&f(e),relatedItems:function(e){var t=e.relatedItems,a=o()(e.config,["ui","related_min"])||3;return t&&t.size>=a?t:null}(e),storylineIds:n?function(e){var t=e.get("id"),a=e.get("storyline")||s.a.List(),n=[t];return a.forEach(function(e){n.push(e.get("id"))}),n}(a):[],typeIcon:d(a,t)}},t.f=g,t.h=function(e,t){var a=e.get("clusterInfo")||s.a.Map(),n=e.get("id"),i=t.render_targets&&t.render_targets[e.get("type")],o={category:t.persist_category?t.category:"",i13n:{ss_cid:a.get("id")||e.get("isTodayItem")&&n||""},originalSite:t.content_site,pageTitle:e.get("title"),url:e.get("url"),uuid:n};i&&(o.renderTarget=i);return o},t.l=function(e){var t,a,n,s,i;if(e){a=e.videoId||void 0,t=e.clickParams||void 0,i=e.playlist||void 0,s=e.rid||void 0,(t||s)&&(n={},t&&(n.clickParams=t),s&&(n.pageParams={_rid:s}));var o={cover:e.cover,enableAd:!!e.enableAd,enableSharedMediaStore:!0,energySaverMode:e.energySaverMode,key:a,navToUrlOnClick:e.navToUrlOnClick,yvpConfig:{autoplay:!!e.autoplay,ccode:e.ccode,cpos:e.cpos,expName:e.expName||"advance",expType:e.expType||"strm-inline",html5:!0,loop:!!e.loop,mute:"boolean"!=typeof e.mute||e.mute,playlist:i||{mediaItems:[{id:a}]},preload:!0,rapidConfig:n,replayonlyendscreen:"boolean"!=typeof e.replayonlyendscreen||e.replayonlyendscreen,sec:e.sec,showTitleOnHover:!!e.showTitleOnHover,startscreen:{showDesc:!1,showProvider:!1,showTitle:!1},stopBufferingOnPause:!!e.stopBufferingOnPause}};return void 0!==e.continuousPlay&&(o.yvpConfig.continuousPlay=!!e.continuousPlay),void 0!==e.ccOnMute&&(o.yvpConfig.ccOnMute=!!e.ccOnMute),void 0!==e.mediaItem&&(o.yvpConfig.mediaItem=e.mediaItem),void 0!==e.showTitleOnStart&&(o.yvpConfig.showTitleOnStart=!!e.showTitleOnStart),void 0!==e.showControls&&(o.yvpConfig.showControls=!!e.showControls),void 0!==e.displayMarkers&&(o.yvpConfig.displayMarkers=!!e.displayMarkers),void 0!==e.hidePlaylist&&(o.yvpConfig.hidePlaylist=!!e.hidePlaylist),void 0!==e.video_reel&&(o.yvpConfig.video_reel=!!e.video_reel),void 0!==e.YVAP&&(o.yvpConfig.YVAP=e.YVAP),o}return{}},t.r=h,t.s=function(e,t){return t.ui&&!t.ui.relative_links||"/"!==e.get("link","").charAt(0)},t.t=f,t.u=b,t.w=function(e){return!!o()(e,["ui","user_intent","enable"])},t.v=v,t.b=function(e,t){return e.filter(function(e){return e!==t})};var n=a(5),s=a.n(n),i=a(2),o=a.n(i),r={article:"story"},l="undefined"!=typeof window;function c(e,t){var a=t&&t.getPageData();return{description:e.get("summary")||e.get("description"),imageUrl:e.getIn(["images","original","url"])||o()(a,["image"],""),title:e.get("title")||"",url:e.get("link")||"",uuid:e.get("id")||""}}function d(e,t){var a=e.get("subtype")||e.get("type"),n=t.ui.show_type_icon;return["video","slideshow"].indexOf(a)>=0&&n?a:""}function p(e,t){var a;return e.get("off_network")&&(a=o()(t,["offnet","share_buttons","buttons_to_show"])),a||(a=o()(t,["ui","share_buttons","buttons_to_show"],[])),a}function m(e){var t=e.config.pageload_image_count;return t>=0&&e.index>=t}function u(e){return"roundup"===e.getIn(["clusterInfo","type"])}function g(e,t){var a=u(e),n=e.get("categoryLabel")||"",s=e.get("property")||"",i=(t=t||{}).THE_ROUNDUP||"Need To Know";return a?i:t["STREAM_CATEGORY_"+n.toUpperCase()]||t["STREAM_CATEGORY_"+s.toUpperCase()]||n||s||""}function h(e){if(e=e.split("?")[0]){if("/"===e.charAt(0))return{host:l?window.location.host:"",pathname:e,protocol:l?window.location.protocol:""};var t=e.split("/");return{host:t[2],pathname:"/"+t.slice(3).join("/"),protocol:t[0]}}return null}function f(e){var t=e.config,a=e.data;return v(a,t)||b(a,t)}function b(e,t){var a="false"!==e.get("comments_allowed"),n=e.get("off_network")||!1,s=n&&o()(t,["ui","comments_offnet"])||!1;return!(!a||n&&!s||!o()(t,["ui","comments"]))}function v(e,t){var a=o()(t,["ui","share_buttons","enable"],!1),n=p(e,t);return a&&n.length>0}},1774:function(e,t,a){"use strict";var n=a(27)({storeName:"VideoCapabilitiesStore",statics:{handlers:{SET_USER_CONNECTION:"_setUserConnection"}},initialize:function(){this._data={connectionType:null},this._setMobileAutoplaySupport(),this._isUserConnectionChecksEnabled=!0},getConnectionType:function(){return this._data.connectionType},isAutoplayEnabledConnection:function(){var e=this.getConnectionType();return"unknown"===e||a(1785).isAutoplayAllowed(e)},isMobileAutoplayDevice:function(){return this._data.isMobileAutoplaySupported},isUserConnectionChecksEnabled:function(){return this._isUserConnectionChecksEnabled},disableUserConnectionChecks:function(){return this._isUserConnectionChecksEnabled=!1},_setMobileAutoplaySupport:function(){"undefined"!=typeof window&&(this._data.isMobileAutoplaySupported=a(1785).isAutoplaySupported())},_setUserConnection:function(e){e&&e.type&&(this._data.connectionType=e.type,this.emitChange())}});e.exports=n},1785:function(e,t,a){"use strict";var n=a(1983),s={wifi:!0,broadband:!0,dsl:!0,cable:!0};function i(){if("undefined"!=typeof navigator)return(navigator&&(navigator.connection||navigator.mozConnection||navigator.webkitConnection)||{}).type}function o(){if(!n.mobile)return!0;var e=n.android&&n.chrome>=50,t=n.ios&&!n.iosWebView&&n.safari>=10;return e||t}e.exports={getConnectionType:i,isAutoplaySupported:o,isAutoplayAllowed:function(e){return!n.mobile||!(!(e=(i()||e||"").replace(/^cs_/i,"").toLowerCase())||!s[e])&&o()}}},1797:function(e,t,a){"use strict";var n=a(0),s=(a.n(n),a(1)),i=a.n(s),o=a(11),r=(a.n(o),a(1563)),l=a.n(r),c=a(78),d=a.n(c),p=a(4),m=a.n(p),u=a(19);class g extends s.PureComponent{constructor(e){super(e);const{count:t}=e;this.state={commentCount:t,commentString:this.getCommentString(t),hover:!1}}getCommentString(e){const{intl:t,showDescription:a}=this.props;if(!e)return a?t.formatMessage({id:"APPLET_COMMENT_START_CONVERSATION"}):"";let n;return n=e>=1e6?parseFloat((e/1e6).toFixed(2))+"m":e>=1e5?parseFloat((e/1e3).toFixed(0))+"k":e>=1e4?parseFloat((e/1e3).toFixed(1))+"k":t.formatNumber(e),a&&(n+=" "+t.formatMessage({id:"APPLET_COMMENT_COUNT_DESCRIPTION"},{count:e})),n}componentWillMount(){const e=this,t=e.constructor.prototype;(e.props.enableHoverColor||e.props.enableTooltip)&&(e.onMouseEnter=t.onMouseEnter.bind(e),e.onMouseLeave=t.onMouseLeave.bind(e))}onMouseEnter(){this.setState({hover:!0})}onMouseLeave(){this.setState({hover:!1})}renderTooltip(e){const t=this;if(t.props.enableTooltip&&t.state.hover){const a=m()("comment-btn-tooltip Bdc($c-fuji-grey-c) Bds(s) Bdw(1px)","Bdrs(3px) Bgc(#fff) Bxsh(commentTooltipBxsh) C($c-fuji-blue-1-a)","Fz(13px) Lh(14px) Pos(a) Px(14px) Py(8px) Whs(nw) Z(3)",{"Start(0) T(22px)":"down"===e,"B(-3px) End(36px)":"left"===e}),n=t.props.intl.formatMessage({id:"APPLET_COMMENT_COMMENTS"}),s=t.state.commentCount?"APPLET_COMMENT_COMMENTS":"APPLET_COMMENT_START_CONVERSATION";return i.a.createElement("b",{className:a},t.props.intl.formatMessage({id:s,defaultMessage:n}))}}render(){const e=this,t=e.props,{showDescription:a,deepLinkQueryParams:n,display:s,iconSize:r,iconClassName:c,textAlign:p}=t,{commentCount:u,commentString:g}=e.state,h=t.openDirection||(["block","inline-block"].indexOf(s)>=0?"left":"down"),f=e.state.hover?t.hoverIconColor:t.iconColor;let{url:b}=t;if(!b)return null;const v="/"!==b.charAt(0);v&&n&&(b+=(-1===b.indexOf("?")?"?":"&")+n);const _=m()("comment-btn-count",t.stringClassName,"Pos(r)",{"D(b)":"block"===s||"inline-block"===s,"Fz(11px)":"block"===s||"inline-block"===s,"Mend(4px)":"inline"===s&&"left"===p,"Mstart(4px)":"inline"===s&&"right"===p,"Fz(13px)":"inline"===s&&!a,"Fw(b) Fz(11px)":a});let y,x={className:m()("comment-btn-link Pos(r) Cur(p) Va(m) Td(n)",t.className,{"Pb(6px) D(b)":"block"===s,"D(ib)":"inline"===s,"D(ib) Pb(6px)":"inline-block"===s,"desktop_W(100%)":"left"===h}),followLink:v,href:b,i13nModel:Object.assign({},t.i13nModel||t.model,{elm:"cmmt_open",itc:0,pos:1,slk:"comments"}),navParams:Object.assign({},t.navParams,{collapseContent:!0,uuid:t.uuid||""}),target:t.target};return g?(y=i.a.createElement("span",{style:{color:f},className:_},g),x["aria-label"]=(u?g+" ":"")+t.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"})):x["aria-label"]=t.intl.formatMessage({id:"APPLET_COMMENT_ARIA_VIEW_COMMENTS"}),(t.enableHoverColor||t.enableTooltip)&&(x.onMouseEnter=e.onMouseEnter,x.onMouseLeave=e.onMouseLeave),i.a.createElement(d.a,x,"left"===p||"top"===p?y:null,i.a.createElement(o.Icon,{className:c,asset:l.a,height:r,color:f,style:{position:"relative",top:"1px",margin:"auto",verticalAlign:"middle"}}),"right"===p||"bottom"===p?y:null,e.renderTooltip(h))}}g.defaultProps={className:"",deepLinkQueryParams:"bcmt=1",display:"inline",enableHoverColor:!1,enableTooltip:!1,hoverIconColor:"#188fff",iconClassName:"",iconColor:"#ccc",iconSize:20,showDescription:!1,textAlign:"left",stringClassName:"Fw(b)"},t.a=Object(u.injectIntl)(g)},1801:function(e,t,a){"use strict";var n=a(148),s=a.n(n),i=a(58),o=(a.n(i),a(378)),r=a.n(o),l=a(2),c=a.n(l),d=a(5),p=a.n(d),m=a(118),u=a.n(m),g=r()("StreamStore"),h="streams",f={CUSTOM:!0,LISTID:!0,MAGTOPICTAG:!0,WIKIID:!0,YCT:!0,YFINANCE:!0,YMAG:!0,YMEDIA:!0,YPROP:!0,YTOPIC:!0,YUMBLR:!0};function b(e){var t=e&&e.get("type");return"ad"===t||"cm"===t}function v(e,t,a){return e.withMutations(function(n){var s=t?t.get("cpos"):0,i=t?t.get("cposy"):0;s&&(n.set("beacon",e.get("beacon").replace("$(AD_POSN)",s)),n.setIn(["i13n","cpos"],s),n.setIn(["i13n","cposy"],i),n.setIn(["i13n","bpos"],t.get("bpos"))),a&&n.set("_component",a)})}var _=Object(i.createImmutableStore)({storeName:"StreamStore",statics:{handlers:{NEW_PAGE_START:"newPageStart",STREAM_ADS:"updateAds",STREAM_ADS_FAILURE:"updateAdsFailure",STREAM_FETCH:"appendStream",STREAM_FETCH_ERROR:"batchError",STREAM_LOAD:"populateStream",STREAM_LOAD_CACHE:"loadCachedStream",STREAM_UPDATE_ADS_CONFIG:"setAdsConfig",STREAM_UPDATE_CATEGORY:"setPageCategory",STREAM_UPDATE_RELATED:"updateRelatedData",STREAM_UPDATE_RELATED_AD:"updateRelatedDataAds",STREAM_UPDATE_SECTIONID:"setSectionId",STREAM_UPDATE_UUID:"setPageUuid",UPDATE_STREAM_HERO_CATEGORY:"setHeroCategory",USERINTENT_CHANGE:"handleUserintentChange"}},initialize:function(){this._state=p.a.Map()},setConfig:function(e){g("setConfig",e),e&&!this._state.has("config")&&(this._state=this._state.set("config",p.a.fromJS(e)),this._restoreFromLocalStorage())},getInstance:function(e,t){void 0===t&&console.warn("StreamStore.getInstance requires two parameters: instanceId and category.");var a=this.dispatcher.getStore(s.a).getConfig(e);return this._state.getIn(this._getInstancePath(e,t,a))||p.a.fromJS({data:{}})},getSnippetIds:function(e,t){var a=this,n={},s={};return(a.getInstance(e,t).getIn(["data","stream_items"])||p.a.List()).forEach(function(e){var t,i=e.get("id");i&&(b(e)?n[i]=!0:(s[i]=!0,(t=(t=e.get("storyline")||p.a.List()).concat(a.getRelatedItemsByUuid(i)||p.a.List())).size&&t.forEach(function(e){var t=e.get("id");b(e)?n[t]=!0:s[t]=!0})))}),{adIds:Object.keys(n),uuids:Object.keys(s)}},removeInstance:function(e,t){if(void 0!==t){var a=this.dispatcher.getStore(s.a).getConfig(e);this.setState(this._state.removeIn(this._getInstancePath(e,t,a)),null,{id:e})}else console.warn("StreamStore.removeInstance requires two parameters: instanceId and category.")},newPageStart:function(e){var t=this,a=this._state.getIn([h])||p.a.Map(),n=this._state;a.forEach(function(e,a){var s=e.get("clear_on_navigate"),i=(e.getIn(["data","stream_items"])||p.a.List()).size;s&&i>0&&(n=t._state.setIn([h,a],p.a.fromJS({data:{category:e.getIn(["data","category"]),components:[],stream_items:[]}})))}),n!==t._state&&t.setState(n,null,{type:"STREAM_RESET"})},populateStream:function(e){g("populateStream",e);var t=e.data||{},a=t.category||"",n=e.id,i=1;try{if(n&&t.stream_items){var o={bpos:1,data:t,ts:+new Date/1e3};t.stream_items.forEach(function(e,t){e.i13n=Object.assign({},e.i13n,{bpos:1,cpos:t+1,cposy:i}),i++,e.storyline&&e.storyline.forEach(function(e){e.cposy=i,i++})}),o.cposy=i;var r=this.dispatcher.getStore(s.a).getConfig(n);r&&r.clear_on_navigate&&(o.clear_on_navigate=r.clear_on_navigate);var l=this._getInstancePath(n,a,r),c=this._state.setIn(l,p.a.fromJS(o));this.setState(c,null,{type:"STREAM_INIT",id:n,category:a})}}catch(e){console.log(e)}},loadCachedStream:function(e){g("loadCachedStream",e);var t=e.id,a=e.category,n=this.dispatcher.getStore(s.a).getConfig(t),i=this._getInstancePath(t,a,n),o=this._state.setIn(i.concat("fromLS"),!1);this.setState(o,null,{type:"STREAM_INIT",id:t,cached:!0,category:a,fromLS:e.fromLS})},isCacheable:function(e){return!!e&&!(!e.cache_ttl||e.use_content_id)},appendStream:function(e){if(g("appendStream",e),e&&e.id){var t=e.data||{},a=e.id,n=this.dispatcher.getStore(s.a).getConfig(a);try{var i=t.category||"",o=this._getInstancePath(a,i,n),r=this._getDataPath(a,i,n),l=this._state.getIn(r);if(l){var c=e.batchSize,d=this._state.getIn(o.concat("bpos")),m=this._state.getIn(o.concat("cposy")),u=l.get("stream_items").size,h=(t.stream_items||[]).map(function(e,t){return e.i13n=e.i13n||{},e.i13n.bpos=d+1,e.i13n.cpos=u+t+1,e.i13n.cposy=m++,e.storyline&&e.storyline.forEach(function(e){e.cposy=m++}),e}),f=p.a.fromJS(t.components||[]),b=p.a.fromJS(t.more_items||[]),v=p.a.fromJS(h),_=l.withMutations(function(e){e.set("more_items",e.get("more_items").concat(b).splice(0,c)),e.set("stream_items",e.get("stream_items").concat(v)),e.set("components",e.get("components").concat(f))}),y=this._state.mergeIn(o,{data:_,bpos:d+1,cposy:m});this.setState(y,null,{type:"STREAM_BATCH",id:a})}}catch(e){console.log(e)}}},batchError:function(e){if(e){var t=e.data||{},a=e.id,n=this.dispatcher.getStore(s.a).getConfig(a);if(a&&n){var i=t.category||"",o=this._getInstancePath(a,i,n),r=this._getDataPath(a,i,n),l=this._state.getIn(r);if(l&&o){var c=e.batchSize,d=this._state.getIn(o.concat("bpos")),p=l.withMutations(function(e){e.set("more_items",e.get("more_items").slice(c))}),m=this._state.mergeIn(o,{data:p,bpos:d+1});this.setState(m,null,{type:"STREAM_BATCH",id:a})}}}},updateAds:function(e){if(g("updateAds",e),e){var t=p.a.fromJS(e.data||{}),a=t.get("stream_ads")||p.a.List(),n=t.get("components"),i=e.id,o=e.category,r=this.dispatcher.getStore(s.a).getConfig(i);try{if(i){var l=this._getDataPath(i,o,r),c=this._state.getIn(l);if(c){var d=0,m=a.size;if(m){var u=c.withMutations(function(e){var t=e.get("stream_items");t.forEach(function(t,s){b(t)&&d<m&&(e.setIn(["stream_items",s],v(a.get(d),t.get("i13n"))),e.setIn(["components",s],n.get(d)),d++)}),(t=e.get("more_items")||p.a.List()).forEach(function(t,s){if(b(t)&&d<m){var i=v(a.get(d),null,n.get(d));e.setIn(["more_items",s],i),d++}})}),h=this._state.setIn(l,u);this.setState(h,null,{type:"STREAM_ADS",id:i})}}}}catch(e){console.log(e)}}},updateAdsFailure:function(e){g("updateAdsFailure",e)},updateRelatedData:function(e){g("updateRelatedData",e);e&&e.items&&e.items.length&&this.setState(this._state.withMutations(function(t){e.items.forEach(function(e){t.setIn(["relatedData",e.uuid],p.a.fromJS(e.relatedItems))})}),null,{type:"STREAM_RELATED",id:e.id})},getRelatedItemsByUuid:function(e){return this._state.getIn(["relatedData",e])},updateRelatedDataAds:function(e){g("updateRelatedDataAds",e),e&&e.ads&&this.setState(this._state.set("relatedDataAds",e.ads),null,{type:"STREAM_RELATED_AD",id:e.id})},getRelatedItemsAd:function(){return this._state.get("relatedDataAds")},isStreamItem:function(e,t,a){return(this.getInstance(e,t).getIn(["data","stream_items"])||p.a.List()).some(function(e){var t=e.get("id");return t&&t===a})},handleUserintentChange:function(e){e&&this.setState(this._state.set("userIntentData",e),null,Object.assign({type:"USERINTENT_CHANGE"},e))},setHeroCategory:function(e){g("setHeroCategory",e);var t=e&&e.category||"";this.setState(this._state.set("heroCategory",t),null,{type:"STREAM_HERO_CATEGORY"})},getHeroCategory:function(){return this._state.get("heroCategory")||""},setAdsConfig:function(e){g("setAdsConfig",e),this.setState(this._state.merge({adsFrequency:e.frequency}),null,{type:"STREAM_ADS_CONFIG"})},getAdsFrequency:function(){return this._state.get("adsFrequency")},setPageCategory:function(e){g("setPageCategory",e),"object"!=typeof e&&(e={category:e});var t=e.category||"",a=e.parentCategory,n=e.articleCategory||{term:"",label:""},s=t.split(":")[0],i={articleCategory:n};""===s||f[s]?void 0!==e.category&&(i.pageCategory=t,i.fallbackCategory=e.fallbackCategory||t,i.parentCategory=a,i.pageSubsite=e.subsite||""):console.warn("StreamStore.setPageCategory received an invalid category: "+t),this.setState(this._state.merge(i),null,{type:"STREAM_PAGE_CATEGORY"})},getPageCategory:function(){return this._state.get("pageCategory")},getFallbackCategory:function(){return this._state.get("fallbackCategory")},getPageSubsite:function(){return this._state.get("pageSubsite")},getParentCategory:function(){return this._state.get("parentCategory")},getArticleCategory:function(){return this._state.getIn(["articleCategory","term"])},getArticleCategoryLabel:function(){return this._state.getIn(["articleCategory","label"])},setSectionId:function(e){g("setSectionId",e);var t=typeof e;if("undefined"!==t){var a="object"===t?e:{stream:e};this.setState(this._state.set("sectionIds",a))}},setPageUuid:function(e){if(g("setPageUuid",e),void 0!==e){this.setState(this._state.set("pageUuid",e),null,{type:"STREAM_UPDATE_UUID",uuid:e});var t=this.getLocalStorage();if(t){var a=((new Date).getTime()+1728e5).toString();t.setItemIn("strm-read",[e],a),this.purgeOldReadsPeriodically();var n=this._state.getIn(["config","ls_delay"]);n&&setTimeout(this._saveToLocalStorage.bind(this),n)}}},getPageUuid:function(){return this._state.get("pageUuid")},getSectionId:function(e){var t=this._state.get("sectionIds")||{};return e&&t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("stream")?t.stream:""},getLocalStorage:function(){var e=this.getContext();return e&&e.localStorage||null},_saveToLocalStorage:function(){g("saveToLocalStorage");var e=this.getLocalStorage();if(e){var t=this._state.getIn(["config","ls_ttl"]);if(!t)return g("Clearing out stream local storage"),void e.setItem("strm",null);var a={streams:{}},n=+new Date,s=n/1e3,i=e.getItem("strm"),o=!1;(this._state.get(h)||p.a.Map()).forEach(function(e,n){var r=(e.getIn(["data","stream_items"])||p.a.List()).size,l=e.get("ts"),d=l<s-t;if(r>0&&-1!==n.indexOf(".c")&&!d){var m=c()(i,[h,n]);!m||m.ts!==l||m.data.stream_items.length<r?(a.streams[n]=e.toJS(),o=!0):a.streams[n]=m}}),o&&(e.setItem("strm",a),g("Saving stream data to local storage took "+(new Date-n)+" ms",a))}},_restoreFromLocalStorage:function(){var e=this,t=e._state.getIn(["config","ls_delay"]);t&&!e._restoredFromLocalStorage&&(g("restoreFromLocalStorage"),e._restoredFromLocalStorage=!0,setTimeout(function(){var t=e.getLocalStorage();if(t){var a,n=t.getItem("strm"),s=+new Date/1e3,i=e._state.getIn(["config","ls_ttl"]);n&&n.streams&&i&&Object.keys(n.streams).forEach(function(t){var o=n.streams[t].ts<s-i;e._state.hasIn([h,t])||o||((a=u()(a||{},[t],n.streams[t]))[t].fromLS=!0)}),a&&(g("read stream data from local storage",a),e._state=e._state.mergeIn([h],a))}},t))},purgeOldReadsPeriodically:function(){var e,t=this.getLocalStorage();if(t){var a=(new Date).getTime(),n=t.getItem("strm-read")||{};if(!isNaN(n.nextPurge)&&parseInt(n.nextPurge)>a)return;for(var s in n.nextPurge=a+1728e5,n)n.hasOwnProperty(s)&&(e=n[s],(isNaN(e)||a>parseInt(e))&&delete n[s]);t.setItem("strm-read",n),g("purged read items from local storage",n)}},rehydrate:function(e){g("rehydrate",e);var t=+new Date/1e3;e&&e.streams&&Object.keys(e.streams).forEach(function(a){e.streams[a].ts=t}),this._state=p.a.fromJS(e),this._restoreFromLocalStorage()},_getInstancePath:function(e,t,a){var n=c()(a,["ui","view"]),s=[].concat(t||[],n||[],this.isCacheable(a)?"c":[]);return[h,s.join(".")]},_getDataPath:function(e,t,a){return this._getInstancePath(e,t,a).concat("data")}});t.a=_},1808:function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},s=a(3)({displayName:"VideoManagedPlayer",contextTypes:{executeAction:a(0).func.isRequired,getStore:a(0).func,renderTarget:a(0).object},propTypes:{className:a(0).string,context:a(0).object,enableLazy:a(0).bool,playerGroups:a(0).array,viewport:a(0).object,yvpConfig:a(0).object.isRequired},componentDidMount:function(){this.context.getStore(a(47)).addChangeListener(this._videoStoreChangeHandler)},shouldComponentUpdate:function(e,t){return!this.state.resetLazy&&!!t.resetLazy},fireInitAction:function(e,t,n,s){if(t){var i=this.context,o=this.getGroups();i&&i.executeAction&&i.executeAction(a(388),{groups:o,id:this.getModuleId(),player:t,customConfig:s})}},getDefaultProps:function(){return{className:"H(100%)",enableLazy:!0,playerGroups:[],viewport:{allIn:!0,bottomBoundary:null,margins:{usePercent:!1,bottom:0,top:0}}}},getGroups:function(){var e=this.context,t=e.renderTarget&&"render-target-"+e.renderTarget.id,a=this.props.playerGroups||[];return t&&a.push(t),this.props.enableLazy&&a.push("lazy-support-enabled"),a},getInitialState:function(){return{resetLazy:!1}},getModuleId:function(e){var t=this.moduleId;return t||(t=e||"VideoManaged-"+Date.now(),this.moduleId=t),t},render:function(){var e=this.props,t=this.getModuleId(e.playerKey);return a(1).createElement(a(662),n({},e,{onPlayerReady:this.fireInitAction,playerKey:t,playlist:[],resetLazyState:e.enableLazy&&this.state.resetLazy,vpConfigOverrides:e.yvpConfig}))},_videoStoreChangeHandler:function(){if(this.props.enableLazy){var e=(this.props.context||this.context).getStore(a(47)),t=e.getDestroyedVideoPlayers(),n=this.getModuleId();if(t&&t[n]&&!this.state.resetLazy)return void this.setState({resetLazy:!0});this.state.resetLazy&&e.getVideoPlayer(n)&&this.setState({resetLazy:!1})}}});e.exports=s},1813:function(e,t,a){"use strict";var n={contextTypes:{session:a(0).object.isRequired},componentDidMount:function(){var e=this.context,t=a(45)(e,"session.dimensions.device","desktop"),n=e.getStore(a(1774));if("undefined"!=typeof window&&"desktop"!==t&&n.isMobileAutoplayDevice()){var s=this._deviceSupportsVideoAutoplay();n.isUserConnectionChecksEnabled()?(n.addChangeListener(this.onVideoCapabilitiesChange),e.executeAction(a(1984))):this.state.supportsVideoAutoplay!==s&&this.setState({supportsVideoAutoplay:s})}},getInitialState:function(){var e=this.context;return{supportsVideoAutoplay:"desktop"===a(45)(e,"session.dimensions.device","desktop")}},_deviceSupportsVideoAutoplay:function(){var e=this.context;if("desktop"===a(45)(e,"session.dimensions.device","desktop"))return!0;var t=e.getStore(a(1774));return t&&t.isMobileAutoplayDevice()&&t.isAutoplayEnabledConnection()},onVideoCapabilitiesChange:function(){this.setState({supportsVideoAutoplay:this._deviceSupportsVideoAutoplay()})}};e.exports=n},1894:function(e,t){if(void 0===a)var a={};a["star-filled"]={name:"star-filled",height:24,width:24,path:"M22.954 8.952c-.126-.39-.49-.652-.9-.652H15.06L12.9 1.652C12.772 1.262 12.41 1 12 1s-.772.263-.898.652L8.94 8.3H1.945c-.41 0-.772.263-.898.652-.127.39.012.815.343 1.056l5.66 4.108-2.163 6.648c-.126.39.012.815.344 1.055.332.24.78.24 1.112 0L12 17.71l5.66 4.11c.165.12.36.18.555.18.194 0 .39-.06.555-.18.33-.24.47-.667.343-1.056l-2.16-6.648 5.658-4.108c.332-.24.47-.667.344-1.056z"},void 0!==e&&e.exports&&(e.exports=a["star-filled"])},1904:function(e,t,a){"use strict";t.b=function(e,t){if(!s[e])throw new Error('There is no I13nModel for "'+e+'"');return t?Object.assign({},s[e],t):s[e]};var n=a(20);a.n(n);const s={userintentBtn:{sec:"strm",slk:"",elm:"open-usr-int",elmt:"btn",itc:1},discoverClose:{sec:"strm",slk:"_",subsec:"userintent",elm:"dismiss-tooltip",elmt:"click",itc:1},confirmManage:{sec:"strm",slk:"confirm_manage",elm:"btn",itc:1},confirmSignin:{sec:"strm",slk:"Sign In",elm:"undo",elmt:"click",itc:0},confirmUndo:{sec:"strm",slk:"",elm:"undo",elmt:"click",itc:1},panelClick:{sec:"strm",slk:"",elm:"",elmt:"click",itc:1},managementClick:{sec:"userintentmgmt",slk:"",elmt:"click"},managementClose:{sec:"userintentmgmt",slk:"Done",elmt:"click"}};const i=Object(n.createI13nNode)("button",{bindClickEvent:!0,isLeafNode:!1});t.a=i},1983:function(e,t,a){"use strict";var n="undefined"!=typeof navigator?navigator.userAgent.toLowerCase().replace(/<[A-Za-z]+.*?(\/>|>.*?<\/[A-Za-z]+>)|javascript:/g,""):"",s="undefined"!=typeof window?window:{},i=function(e){if(null===e)return!1;var t=e[1];return parseFloat(t.replace("_",".").split(".",2).join("."))||1},o=function(e){for(var t=(s&&s.location&&s.location.search&&s.location.search.substring(1)||"").split("&"),a=0;a<t.length;a++){var n=t[a].split("=");if(decodeURIComponent(n[0])===e)return decodeURIComponent(n[1])}return null};if(t.ua=n,t.chromium=i(/chromium\/([^\s]*)/.exec(n)),t.edge=i(/edge\/([^\s]*)/.exec(n)),t.opera=/opr\/|opera\//.test(n),t.chrome=!t.chromium&&!t.edge&&!t.opera&&(i(/chrome\/([^\s]*)/.exec(n))||i(/crios\/([^\s]*)/.exec(n))),t.ie=i(/msie ([^;]*)/.exec(n))||i(/trident.*; rv:([0-9.]+)/.exec(n)),t.firefox=!t.ie&&i(/firefox\/([^\s]*)/.exec(n)),t.android=/android/.test(n),t.androidTablet=t.android&&!/mobile/.test(n),t.htc_one=/htc_one/.test(n),t.vizio=/Vizio/i.test(n)||"vizio"===o("man"),t.tivo=/TiVo/i.test(n),t.fios=/Verizon_STB|\(Verizon.*VMS1100|\(Verizon.*IPC1100|\(Verizon.*IPC3200/i.test(n),t.firetv=t.android&&/amazonwebappplatform/.test(n)&&/aft/.test(n),t.lg=/web0s/.test(n),t.tizen=/tizen/.test(n),t.orsay=/smarttv/.test(n)&&!t.tizen&&!t.lg,t.samsung=t.orsay||t.tizen,t.sony=/(sony)/.test(n),t.ps4=/(playstation 4)/.test(n),t.ios=/(ipad|iphone|ipod)/.test(n),t.iphone=/(iphone|ipod)/.test(n)&&!/ipad/.test(n),t.ipad=t.ios&&!t.iphone,t.androidBrowser=!t.chrome&&/android/.test(n),t.androidVersion=i(/android\s([0-9.]*)/.exec(n)),t.safari=!t.chrome&&!t.chromium&&!t.android&&/safari\/([^\s]*)/.test(n)&&i(/version\/([^\s]*)/.exec(n)),t.iosWebView=t.ios&&!navigator.standalone&&!t.safari,t.iosVersion=t.ios&&i(/\bos ((\d+_?){2,3})\s/.exec(n)),t.mobile=t.ios||t.android&&!t.firetv,t.safariDesktop=!t.mobile&&t.safari,t.tv=t.vizio||t.tivo||t.firetv||t.samsung||t.sony||t.ps4||t.lg||t.fios,t.desktop=!t.mobile&&!t.tv,t.phantomJS=s.window&&s.window._phantom,t.tv)if(t.vizio)t.os="vizio",t.model=o("class")||o("soc");else if(t.tivo)t.os="tivo",/tcd849/.test(n)?(t.model="series6",t.version="tcd849"):/tcd8d9/.test(n)?(t.model="series6",t.version="tcd8d9"):/tcd8f9/.test(n)?(t.model="series6",t.version="tcd8f9"):/tcd8/.test(n)?(t.model="series5",t.version="tcd8"):/tcdd/.test(n)?(t.model="series5",t.version="tcdd"):t.model="series4";else if(t.firetv)t.os="firetv",/aftb/.test(n)?t.model="aftb":/afts/.test(n)?t.model="afts":(/aftm/.test(n),t.model="aftm");else if(t.lg)t.os="lg",t.model="lg";else if(t.samsung){t.os="samsung";var r=void 0!==r?r:window.tizen;r&&r.systeminfo?(t.model="tizen",t.version=r.systeminfo.getCapability("http://tizen.org/feature/platform.version")):t.model="orsay"}else t.sony?(t.os="sony",/bdp/.test(n)?t.model="bdp":t.model="tv"):t.ps4?(t.os="ps4",t.model="4"):t.fios?t.os="fios":t.os=null;else t.ios?t.os="ios":t.android?t.os="android":/windows|win32/.test(n)?(t.os="windows",t.winXP=/(windows nt 5\.[1-3])/.test(n),t.winVista=/(windows nt 6\.0)/.test(n),t.win7=/(windows nt 6\.1)/.test(n),t.win8=/(windows nt 6\.2)/.test(n),t.win8_1=/(windows nt 6\.3)/.test(n),t.win10=/(windows nt 10\.0)/.test(n),t.win64=/(wow64|win64)/.test(n)):/macintosh|mac_powerpc/.test(n)?t.os="macintosh":/symbos/.test(n)?t.os="symbos":/linux/.test(n)?t.os="linux":t.os=null},1984:function(e,t,a){"use strict";e.exports=function(e,t,n){var s=e.getStore(a(1774)),i=s.getConnectionType();return i?n(null,{type:i}):(i=a(1785).getConnectionType())?(e.dispatch("SET_USER_CONNECTION",{type:i}),n(null,{type:i})):s.isUserConnectionChecksEnabled()?(s.disableUserConnectionChecks(),void e.service.read("UserConnectionService.read",{},{},function(t,a){var s={type:t?"err":a&&a.speed||"unknown"};e.dispatch("SET_USER_CONNECTION",s),n(null,s)})):n&&n()}},2021:function(e,t,a){"use strict";var n=a(142),s=a(5),i=a.n(s),o=a(78),r=a.n(o),l=a(0),c=a.n(l),d=a(1),p=a.n(d),m=a(4),u=a.n(m),g=a(1766);function h(e){var t,a,s,o,l=e.includeBreakPoints,c=e.storyline||i.a.List(),d=c.count(),m=e.storylineIds||i.a.List(),h=!g.p(e),f=e.config.ui||{},b=f.show_read,v=e.isAd||!1;if((f.storyline_min||1)>d)return null;const _=u()("Td(n) D(ib) Va(t) W(90%) Mend(10%) C(#0078ff)!:h",e.titleClassName,{"C(#959595):vi":b});var y=c.map((c,f)=>{var b,y=c.get("id"),x=c.get("link")||"";if(v)a=c.get("image"),s=e.i13nModel;else{var C=c.get("images")||i.a.Map();a=C.get("img:72x72")||C.get("small_fixed")||C.get("square"),s=g.c(c,a,f,!0),o={relatedUuids:g.b(m,y),url:c.get("url")}}t=Object.assign({},s,{elm:"rhdln",pos:f+2});var S={className:_,followLink:g.s(c,e.config),href:x,i13nModel:t,navParams:o};if(v&&(S.target="_blank",S.rel="noopener noreferrer"),a){var E=u()("Fl(start) W(29%) Miw(65px) Maw(72px) Mend(10px) Trsdu(0s)!",{"D(n)--sm1024":l},e.imageClassName);b=p.a.createElement(n.Img,{url:a.get("url"),checkPosition:!1,className:E,forceLoad:h,alt:c.get("title")})}return p.a.createElement("li",{className:u()("Fl(start) W(50%)",{"W(100%)--sm1024":l,"Mb(8px)--sm1024":l&&f<d-1}),key:f},p.a.createElement(r.a,S,b,p.a.createElement("div",{className:"Ov(h)"},p.a.createElement("div",{className:u()("Lh(15px) Fw(b) LineClamp(3,45px)",{"D(i)--sm1024 Pend(10px)--sm1024":l})},c.get("title")),p.a.createElement("div",{className:u()("C(#959595) Fz(11px) Mt(2px) Va(b)",{"D(ib)--sm1024":l})},c.get("publisher")))))});return p.a.createElement("ul",{className:u()(e.className,{"Mt(8px)--sm1024":l})},y)}h.displayName="StorylineList",h.propTypes={className:c.a.string,config:c.a.object.isRequired,imageClassName:c.a.string,includeBreakPoints:c.a.bool,storyline:c.a.object.isRequired,storylineIds:c.a.array,i13nModel:c.a.object,titleClassName:c.a.string,isAd:c.a.bool},h.defaultProps={className:"Cf Mt(12px) Fz(12px) Pos(r)",includeBreakPoints:!1,titleClassName:"C(#000)"},t.a=h},2022:function(e,t){if(void 0===a)var a={};a["dislike-heart"]={name:"dislike-heart",height:14,width:16,path:"M1.253 3.196l9.054 9.053L8 14.666 1.774 8.142c-1.276-1.34-1.45-3.408-.52-4.946zm.874-1.01c.672-.553 1.494-.853 2.363-.853 2.125 0 3.117 1.694 3.51 2.016.406-.332 1.375-2.017 3.51-2.017 1.028 0 1.994.42 2.717 1.18 1.475 1.552 1.475 4.077 0 5.628l-3 3.144-9.1-9.1z"},void 0!==e&&e.exports&&(e.exports=a["dislike-heart"])},2145:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(1),o=a.n(i),r=a(3),l=a.n(r),c=a(20),d=a(1904),p=a(19),m=a(67),u=a.n(m),g=a(11),h=a(657),f=a(2022),b=a.n(f);class v extends i.PureComponent{constructor(e){super(e)}handleClickOutside(e){const{showPanel:t,hidePanelAction:a}=this.props;t&&a()}render(){const{uuid:e,intl:t,isMuted:a,publisher:n,userPreferenceAction:s}=this.props,i=a?"#ff6368":"#ccc",r=`${a?t.formatMessage({id:"UNDO"}):""} ${t.formatMessage({id:"SHOW_LESS_OF"},{publisher:n})}`;return o.a.createElement("div",{className:"userintent-panel Pos(a) T(-15px) End(30px) Px(8px) Py(12px) W(210px) Mih(30px) Ov(h) Bgc(#fff) Bdrs(2px) Bxsh(userintentBoxshadow)",key:"userintent-panel-"+e},o.a.createElement(d.a,{onClick:s,i13nModel:Object(d.b)("panelClick",{slk:n,elm:a?"undo":"mute"}),role:"button",className:"Pos(r) P(0) D(b) Bdw(0) Ta(start) Fz(15px) O(n):f C(#000)"},o.a.createElement(g.Icon,{className:"Fl(start) Mend(10px) Mb(22px) Cur(p)",asset:b.a,color:i,height:22,width:22}),r,o.a.createElement("div",{className:"Fz(11px) C(gray-light) Fw(200) Pt(5px)"},t.formatMessage({id:"SEE_LESS_OF_NEWS_LIKE_THIS"}))))}}v.propTypes={className:s.a.string,index:s.a.number,intl:p.intlShape,showPanel:s.a.bool,isMuted:s.a.bool,uuid:s.a.string,publisher:s.a.string,publisherId:s.a.string,hidePanelAction:s.a.func,userPreferenceAction:s.a.func};var _=Object(h.default)(v),y=a(33),x=a.n(y),C=a(196),S=a.n(C),E=a(694),M=a(695);const I=l()({mixins:[x.a,S.a],displayName:"Userintent",statics:{storeListeners:[M.a],componentConfig:{name:"componentUserintent"}},propTypes:{className:s.a.string,index:s.a.number,intl:p.intlShape,config:s.a.object,uuid:s.a.string,publisher:s.a.string,publisherId:s.a.string,componentConfig:s.a.object},getDefaultProps:function(){return{className:"",index:1}},componentWillMount:function(){this.onEnterViewport=this.constructor.prototype.onEnterViewport.bind(this)},componentDidMount:function(){const{config:{discoverIndex:e=1}={}}=this.props;this.state.inViewport||this.props.index!==e||this.onEnterViewport(this.handleEnterViewport.bind(this))},componentWillUnmount:function(){this.stopListeningToViewport()},stopListeningToViewport:function(){this.onEnterViewport(null)},handleEnterViewport:function(){const{config:e}=this.props;this.executeAction(E.setTooltipViews,{componentConfig:e}),this.setState({inViewport:!0}),this.stopListeningToViewport()},getData:function(){const{publisher:e}=this.props,t=this.stores.userintent,a=t&&t.getStateJson()||{},{mutedPublishers:n={}}=a,s=n[e]||{};return a.isMuted=s.muted||!1,a},getInitialState:function(){return this.stores={},this.stores.userintent=this.getStore(M.a),this.executeAction(E.fetchCrumb),this.getData()},onChange:function(){var e=this.getData();this.setState(e)},shouldRenderDiscover:function(){const{config:{discoverIndex:e=1}={}}=this.props;return this.props.index===e&&this.state&&this.state.showTooltip},shouldRenderPanel:function(){const{uuid:e}=this.props,{target:t,showPanel:a}=this.state;return this.state&&a&&t===e},handleDimissTooltip:function(e){const{config:t}=this.props;this.executeAction(E.setTooltipSeen,{componentConfig:t}),e.preventDefault()},handleShowPanel:function(e){const{uuid:t,publisherId:a}=this.props;this.executeAction(E.getMutedPublishers,{target:t,showPanel:!0,publisher:a}),e.preventDefault()},handleHidePanel:function(){this.executeAction(E.getMutedPublishers)},handleUserPreference:function(){const{uuid:e,publisher:t,publisherId:a}=this.props,{isMuted:n}=this.state;this.executeAction(E.managePreference,{target:e,isMuted:n,publisher:t,publisherId:a})},renderDiscover:function(){const{uuid:e,intl:t}=this.props,a={background:"rgba(0,0,0,.3)"};return this.shouldRenderDiscover()?o.a.createElement("div",{className:"userintent-tooltip Pos(a) P(12px) W(183px) End(0) Fw(200) Ta(start) H(a) Fz(12px) T(30px) Lh(1.5) Z(1) C(#fff) Bgc(#188fff) Bdrs(2px) Bxsh(userintentBoxshadow) Pos(a)::b End(6%)::b B(100%)::b W(0)::b H(0)::b Bd(userintentBorderTransparent)::b Bdbc(#188fff)::b Cnt(userintentEmpty)::b"},o.a.createElement("div",{className:"Fw(500)"},t.formatMessage({id:"DONT_LIKE_THIS_SOURCE"})),o.a.createElement("div",null,t.formatMessage({id:"CUSTOMIZE_HERE"})),o.a.createElement(c.I13nAnchor,{key:"userintent-close-"+e,className:"userintent-dimiss-tooltip D(b) O(n) Pos(a) T(30%) End(5%) Bdrs(10px) Mt(-10px)",style:a,href:"#",onTouchStart:this.handleDimissTooltip,onClick:this.handleDimissTooltip,i13nModel:Object(d.b)("discoverClose")},o.a.createElement(g.Icon,{className:"",asset:u.a,color:"#188fff",height:20,width:20}))):void 0},renderPanel:function(){const{index:e,intl:t,uuid:a,publisher:n,publisherId:s}=this.props,{showPanel:i,isMuted:r}=this.state,l={index:e,intl:t,showPanel:i,isMuted:r,uuid:a,publisher:n,publisherId:s,hidePanelAction:this.handleHidePanel,userPreferenceAction:this.handleUserPreference};return this.shouldRenderPanel()?o.a.createElement(_,l):void 0},render:function(){const{uuid:e,publisher:t,className:a=""}=this.props,n=this.handleShowPanel,s={key:`userintent-${e}`,className:`userintent-btn-link Va(m) Td(n) Fz(21px) Lh(17px) C(#959595) C(#188fff):h D(ib) desktop_W(100%) Cnt(userintentEllipsis)::b ${a}`,href:"#",onTouchStart:n,onClick:n,i13nModel:Object(d.b)("userintentBtn",{slk:t})};return o.a.createElement("div",{className:"userintent-wrapper Mt(6px) Pos(r)"},o.a.createElement(c.I13nAnchor,s),this.renderDiscover(),this.renderPanel())}});t.a=Object(p.injectIntl)(I)},2146:function(e,t,a){"use strict";var n=a(3),s=a.n(n),i=a(19),o=a(2),r=a.n(o),l=a(0),c=(a.n(l),a(1)),d=a.n(c),p=a(11);a.n(p);t.a=s()({displayName:"ErrorItem",autobind:!1,propTypes:{},getDefaultProps:function(){return{itemCount:0}},render:function(){var e=this.props.config,t=r()(e,["ui","view"]),a=r()(e,["ui","error_id"])||"CONTENT_ERROR",n="tiles"===t?"div":"li";return d.a.createElement(n,{className:"Pos(r) P(20px) Ta(c) C(#9ea2af)"},d.a.createElement(p.Icon,{color:"#b9bdc5",cursorClass:"Cur(d)",height:40,name:"nav-news"}),d.a.createElement("h3",{className:"Mt(4px) Fw(500) Fz(16px) Lh(23px)"},d.a.createElement(i.FormattedMessage,{id:a,values:{hasItems:this.props.itemCount>0}})))}})},2147:function(e,t,a){"use strict";var n=a(0),s=a.n(n),i=a(1),o=a.n(i);const r=({title:e,titleKey:t,titleValues:a,className:n,intl:s}={})=>((!e||e.length<=0)&&(e=s.formatMessage({id:t},a)),o.a.createElement("h2",{className:n},e));r.displayName="Title",r.defaultProps={className:"C($c-fuji-grey-l) Fw(500) Fz(16px) Lh(23px)"},r.propTypes={className:s.a.string,intl:s.a.object,title:s.a.string,titleKey:s.a.string,titleValues:s.a.object},t.a=r},2148:function(e,t,a){"use strict";t.a=m;var n=a(1557),s=a.n(n),i=a(2),o=a.n(i),r=a(1552),l=a.n(r),c=a(12),d=a.n(c),p=a(634);a.n(p);function m(e,t,a){var n=t.config,i=n.ads||{},r=n.ui||{},c=n.max_dedupe_UUID_size||250,m=n.max_dedupe_ADID_size||50,u=e.getStore(d.a),g=i.related_start_index,h={ads:{ad_polices:i.ad_polices,adchoices_url:i.adchoices_url,spaceid:u.getSpaceid(),pu:i.pu,related_ct_se:i.related_ct_se,related_start_index:g,useResizedImages:i.useResizedImages},content_site:n.content_site,offnet:{use_preview:o()(n,["offnet","use_preview"]),url_scheme:o()(n,["offnet","url_scheme"])},ui:{image_quality_override:r.image_quality_override,related_count:r.related_count,related_endpoint:r.related_endpoint,relative_links:r.relative_links,smart_crop:r.smart_crop},uuids:[]},f=e.getStore("StreamStore"),b=null,v=[],_=function(){if(b&&b.length){var a=[],n=0;v.forEach(function(e){var t=f.getRelatedItemsByUuid(e);t&&((t=t.toJS()).splice(g,1,b[n]),n++,a.push({relatedItems:t,uuid:e}))}),a.length&&(e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:b.slice(n),id:t.instanceId}),e.dispatch("STREAM_UPDATE_RELATED",{items:a,id:t.instanceId}))}};if(t&&t.uuids)if(t.uuids.forEach(function(e){f.getRelatedItemsByUuid(e)?v.push(e):h.uuids.push(e)}),g&&((b=f.getRelatedItemsAd())&&b.length>v.length?delete h.ads:b=null),h.uuids.length>0||h.ads){var y=f.getSnippetIds(t.instanceId,n.category);h.dedupeUUIDs=y.uuids,h.ads&&(h.dedupeADIDs=y.adIds),h.dedupeUUIDs&&h.dedupeUUIDs.length>c&&(h.dedupeUUIDs=h.dedupeUUIDs.slice(h.dedupeUUIDs.length-c)),h.dedupeADIDs&&h.dedupeADIDs.length>m&&(h.dedupeADIDs=h.dedupeADIDs.slice(h.dedupeADIDs.length-m)),e.service.read("StreamRelatedService",h,{},function(i,o){if(!i&&o){var c=o.related||o,d=0;if(!b&&o.ads&&o.ads.stream_ads&&o.ads.stream_ads.length&&(b=o.ads.stream_ads),g&&b&&c?(c.forEach(function(e){b[d]&&e.relatedItems.splice(g,0,b[d]),e.relatedItems=e.relatedItems.slice(0,r.related_count),d++}),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:b.slice(d),id:t.instanceId})):g&&o.ads&&o.ads.stream_ads&&(v.length>0&&_(),e.dispatch("STREAM_UPDATE_RELATED_AD",{ads:o.ads.stream_ads,id:t.instanceId})),e.dispatch("STREAM_UPDATE_RELATED",{items:c,id:t.instanceId}),r.dispatch_content_store){var m=[];if(c.forEach(function(e){e&&e.relatedItems&&(m=m.concat(e.relatedItems))}),m.length){const a=!!Object(p.getAppIdFromPageConfig)(e);e.executeAction(s.a,{loadContentAction:a?l.a:void 0,items:m,prefetch:n.use_prefetch,snippets:!0,sourceId:t.instanceId})}}a&&a()}else a&&a(i)})}else v.length>0?(_(),a&&a()):a&&a()}m.displayName="fetchRelated"},2149:function(e,t,a){"use strict";t.a=function(e,t,a){var s=Object.assign({},t,{use_content_id:!1}),i=Object(n.a)(e,s,a);i.ads&&(i.ads.frequency=0);if(t.use_page_category){var o=t.fallbackCategory||e.getStore("StreamStore").getFallbackCategory();o&&(i.category=o)}return i};var n=a(673)},2150:function(e,t,a){"use strict";t.a=v;var n=a(1557),s=a.n(n),i=a(382),o=a.n(i),r=a(5),l=a.n(r),c=a(1552),d=a.n(c),p=a(261),m=a(673),u=a(683),g=a(2),h=a.n(g),f=a(634),b=(a.n(f),"undefined"!=typeof document?document:null);function v(e,t,a){var n=[],i=(t.componentProps||{}).id,r=e.getStore("StreamStore"),c=t.config||{},g=Object(m.a)(e,c,"StreamService.items"),v=c.batches.size;if(!i)return a(new Error("Instance id not set for fetchMore"));var _=r.getInstance(i,g.category).get("data"),y=(_.get("more_items")||l.a.List()).slice(0,v);if(y.forEach(function(e,t){var a=e.get("type");void 0!==a&&"unknown"!==a||n.push((e.get("idPrefix")||"")+e.get("id"))}),0===n.length)return a();g.uuids=n;var x={};c.post_for_more&&(x.post_for_read=!0);var C=t.resource||"StreamService.items";e.service.read(C,g,x,function(t,n){if(!t&&n){var r=0,l=[];y.forEach(function(e){var t=e.get("type");if(void 0===t||"unknown"===t){var a=n.stream_items[r],s=e.get("id"),i=a&&a.clusterInfo&&a.clusterInfo.id;!a||a.id!==s&&i!==s||(Object.assign(a,e.toJS(),{type:a.type,id:a.id}),l.push(a.id),r++)}else n.stream_items.splice(r,0,e.toJS()),n.components.splice(r,0,n.stream_items[r]._component),r++});var m={componentConfig:c,components:n.components};Object(p.a)(e,m,function(t){if(t)return a(t);if(e.dispatch("STREAM_FETCH",{data:n,id:i,batchSize:v}),function(e){var t=e.i13n&&e.i13n.executeEvent;if(t){var a=e.getStore("I13nStore"),n=e.getStore("PageStore"),s=e.getStore("UserStore"),i=a&&a.getI13nConfig();b&&s&&n&&i&&i.initComscore&&t("comscore_beacons",{c14:s.getComscoreC14(),currentUrl:b.location.href,getConsentData:i.enableConsentData?o.a:null,keyword:a.getComscoreC7Keyword(),spaceid:n.getSpaceid()})}}(e),g.ui&&g.ui.dispatch_content_store){var r=!!Object(f.getAppIdFromPageConfig)(e);e.executeAction(s.a,{items:n.stream_items,loadContentAction:r?d.a:void 0,prefetch:g.use_prefetch,snippets:!0,sourceId:i,ssEP:h()(c,["batches","ss_endpoint"],""),useSlingstoneLcp:u.f(c)})}a()})}else{if(e.dispatch("STREAM_FETCH_ERROR",{data:{category:g.category},id:i,batchSize:v}),e.beacon){var x={code:"strbatch",remainingItems:_.get("more_items").length-v};e.beacon("error","tdv2-applet-stream",x)}a(t)}})}v.displayName="fetchMore"},2151:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(378),o=a.n(i),r=a(0),l=a.n(r),c=a(1),d=a.n(c);const p=o()("StreamContainer"),m=e=>{p("render");const{config:t={},className:a,appletTitle:n,children:i,id:o}=e,r=t.ui||{},l={maxWidth:r.max_width||"none"},c=s()(a,r.container_classnames);let m;return"tiles"===r.view&&e.errorItem&&(m=e.errorItem),d.a.createElement("div",{id:o,className:c,style:l},n,i,m)};m.displayName="StreamContainer",m.defaultProps={className:"tdv2-applet-stream Bdc(#e2e2e6)"},m.propTypes={appletTitle:l.a.element,children:l.a.element,className:l.a.string,config:l.a.object,errorItem:l.a.element,id:l.a.string},t.a=m},2152:function(e,t,a){"use strict";var n=a(4),s=a.n(n),i=a(1540),o=a(2),r=a.n(o),l=a(20),c=a(11),d=a(0),p=a.n(d),m=a(1),u=a.n(m),g=a(640),h=a.n(g);function f(e){var t,a=e.config||{},n="headlines"===(a.ui||{}).view,o=a.ads||{},d=e.data.get("adChoicesUrl")||o.adchoices_url,p=n?"#959595":e.sponsoredColor.split(/\(([^)]+)\)/)[1],m=e.data.get("isPromoAd"),g=e.sponsorContainerClass,f={elm:"itm",outcm:"advertiser"};o.sponsored_label_support&&(t=e.data.get("sponsoredByLabel")),t||(t=e.intl.formatMessage({id:"SPONSORED"}));var b,v=n?"C(#959595)":e.sponsoredColor,_="tiles"!==r()(a,["ui","view"]),y=s()("Mend(6px)",v,{"Td(n)":_,"Fz(11px) Pos(r) Td(n)":n}),x=s()(e.publisherColor,{"Td(n)":_,"Whs(nw) Mend(6px) Lh(1.6)":!n,"Fz(12px) Ell D(b)":n,"Va(m) D(ib) Ell Maw(130px)":e.publisherEllipsis});return!_&&!e.sponsored_only||e.publisher_only||m||(b=u.a.createElement("span",{className:g},u.a.createElement(l.I13nAnchor,{className:y,href:o.sponsored_url,i13nModel:{elm:"icon",outcm:"sponsor"},rel:"noopener noreferrer",target:"_blank"},t),u.a.createElement(l.I13nAnchor,{href:d,i13nModel:{elm:"icon",outcm:"info"},target:"_blank",rel:"noopener noreferrer"},u.a.createElement("i",{className:"Pos(r) T(3px)"},u.a.createElement(c.Icon,{asset:h.a,color:p,height:15,style:{verticalAlign:"baseline"}})))),!e.sponsored_only)?e.imageComponent?u.a.createElement("div",{className:e.className},e.imageComponent,u.a.createElement("div",{className:"Mstart(4px) D(ib)"},b,u.a.createElement(i.Controls.Publisher,{className:x,data:e.data,i13nModel:f,rel:"noopener noreferrer",target:"_blank"})),e.ctaComponent):u.a.createElement("div",{className:e.className},u.a.createElement(i.Controls.Publisher,{className:x,data:e.data,i13nModel:f,rel:"noopener noreferrer",target:"_blank"}),b,e.ctaComponent):b}f.displayName="AdAttribution",f.propTypes={className:p.a.string,config:p.a.object.isRequired,data:p.a.object.isRequired,intl:p.a.object.isRequired,publisherColor:p.a.string,publisher_only:p.a.bool,sponsorContainerClass:p.a.string,sponsoredColor:p.a.string,sponsored_only:p.a.bool},f.defaultProps={className:"Fz(13px) Pos(r) Z(2) Ell",publisherColor:"C(#959595)",sponsoredColor:"C($c-fuji-grey-e)"};var b=f,v=a(3),_=a.n(v),y=a(142),x=a(5),C=a.n(x),S=_()({displayName:"AdTile",autobind:!1,mixins:[i.DataMixin],contextTypes:{intl:p.a.object},propTypes:{},render:function(){var e,t=this.props,a=t.data,n=a.get("i13n")||C.a.Map(),o=this.context.intl,d=t.tile,p=t.config,m=p.ads,g=this.getHQImage(),f={},v=(r()(p,["ui","tiles"])||{}).gradient;g&&g.height>=.7*d.height&&g.width>=.7*d.width?(e=y.Img,f.nodeName="div",f.checkPosition=!1,f.className="Bgr(nr) Bgz(cv) Bgp(c) Trsdu(0s)!",f.url=g.url):(e="div",f.className="Bgc($general)"),f.className=s()("StretchedBox","js-stream-ad",f.className);var _,x={bpos:n.get("bpos"),cpos:n.get("cpos"),cposy:n.get("cposy"),ad:1,aid:a.get("id"),pkgt:g?"sponsored_img":"sponsored_noimg",slk:a.get("title"),ct:"ad"},S=a.get("adChoicesUrl")||m.adchoices_url;return m.sponsored_label_support&&(_=a.get("sponsoredByLabel")),_||(_=o.formatMessage({id:"SPONSORED"})),u.a.createElement(e,f,u.a.createElement("div",{className:s()("Pos(a) B(0) Start(0) End(0) P(10px) C(#fff)",{"Bgi($linear-grad-dark) Fil($linear-grad-dark-fallback)":v,"Bgc($bg-dark)":!v})},u.a.createElement(l.I13nAnchor,{className:"Mend(6px) C(#fff) Tt(u) Fw(b) Fz(11px) Pos(r) Z(2)",href:m.sponsored_url,i13nModel:Object.assign({},x,{elm:"icon",outcm:"sponsor"}),rel:"noopener noreferrer",target:"_blank"},_),u.a.createElement(l.I13nAnchor,{className:"C(#fff) Pos(r) Z(2) ie-7_Pos(a) ie-7_Mt(-5px)",href:S,i13nModel:{elm:"icon",outcm:"info"},rel:"noopener noreferrer",target:"_blank"},u.a.createElement("i",{className:"Pos(r) T(3px)"},u.a.createElement(c.Icon,{asset:h.a,color:"#fff",height:15,style:{verticalAlign:"baseline"}}))),u.a.createElement("h3",{className:"M(0) Pt(2px) Pb(4px) C(#fff) LineClamp(2,47px)"},u.a.createElement(i.Controls.Headline,{data:this.props.data,className:"Ff($ff-primary) Fw($fweight) Lh($lheight) Lts($lspacing-sm) Fsm($fsmoothing) Fsmw($fsmoothing) Fsmm($fsmoothing) Fz($fz-m)"})),u.a.createElement(b,{config:p,data:a,intl:o,publisherColor:"C(#fff)",sponsoredColor:"C(#fff)"})),u.a.createElement(i.Controls.PrimaryLink,{data:a,i13nModel:Object.assign({},x,{elm:"hdln",outcm:"ad"})},u.a.createElement("u",{className:"StretchedBox Z(1)"})))}}),E=a(1894),M=a.n(E);function I(e){var t,a,n,i,o=e.config||{},r=e.data||{},l=e.userAgent,d=o.promoAds||{},p=o.ui&&"headlines"===o.ui.view,m=p?12:14,g=e.intl||{},h=r.get("ratingsNum")||5,f=r.get("appReviews"),b=r.get("cpi"),v=[],_=h%1;for(i=1;i<=h;i++)v.push(u.a.createElement(c.Icon,{key:i,className:"Pos(r) T(3px) Mend(1px) Fl(start)",asset:M.a,color:"#ffc208",height:m}));return _&&v.push(u.a.createElement("span",{className:s()("Pos(r) Mend(1px) Fl(start) Ov(h)",{"T(-1px) W(6px)":p},{"T(1px) W(7px)":!p})},u.a.createElement(c.Icon,{key:i,asset:M.a,color:"#ffc208",height:m}))),t=u.a.createElement("div",{className:"C(#ffc208) Pos(r) Fl(start) Mt(5px) H(100%)","aria-label":g.formatMessage({id:"PROMO_ARIA_RATINGS"},{ratings:h})},v),f&&(a=u.a.createElement("div",{className:s()("C(#959595) Pos(r) Mt(5px) Fl(start) D(n)--maw370",{"Fz(12px) Mstart(2px)":p},{"Fz(14px) Mstart(10px)":!p})},"(",g.formatNumber(f),")")),b&&(n=u.a.createElement("button",{className:s()("D(b) Va(t) Bdrs(2px) Py(6px) Ta(c) Fz(14px) Mstart(5px) P(8px) Fl(end)",{"C(#298cda) Bdc(#298cda) Bdw(2px) Bds(s)":"ios"===l},{"C(#fff) Bgc(#689f38)":"android"===l},{"C(#fff) Bgc(#188fdc)":!l})},d.cta||g.formatMessage({id:"CALL_TO_ACTION"}))),u.a.createElement("div",{className:"H(30px)"},t,a,n)}I.propTypes={data:p.a.object.isRequired,config:p.a.object.isRequired,intl:p.a.object.isRequired,userAgent:p.a.string.isRequired};var P=I,w=a(33),T=a.n(w),N=a(78),k=a.n(N),A=a(105),D=a.n(A),O=a(385),L=a.n(O),R=a(2153),B=a.n(R),j=a(13),z=a.n(j),F=a(1808),U=a.n(F),V=a(660),H=a.n(V);function W(e){var t={};return(e||[]).forEach(function(e,a){if("object"==typeof e)if(C.a.List.isList(e)){for(var n=[],s=0;s<e.size;s++)n[s]=W(e.get(s));t[a]=n}else t[a]=W(e);else t[a]=e,t[a]=isNaN(parseInt(t[a]))?t[a]:parseInt(t[a])}),t}var $=a(28),q=a.n($),G={contextTypes:{beacon:p.a.func,session:p.a.object},isVideoplayer:function(e){return(e=e||this.state).videoPlayer},componentDidMount:function(){var e=this.props.data,t=e.get("isVideo"),a=z.a.findDOMNode(this).getBoundingClientRect(),n=e.getIn(["video_ad_assets","mediaInfo","xml"]),s=this._isFlashInstalled(r()(this.context,["session","userAgent"],{})),i=a.top>=0&&a.left>=0&&a.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&a.right<=(window.innerWidth||document.documentElement.clientWidth),o=this.state.supportsVideoAutoplay;!t||n&&!s||this.setState({autoplay:i&&o,videoPlayer:o})},componentWillReceiveProps:function(e){var t=!!(e.data||C.a.Map()).get("isVideo");t!==this.state.videoPlayer&&this.setState({videoPlayer:t})},handlePlaybackComplete:function(e){this.fireBeacon("VIDEO_QUARTILE_100"),this.props.config.ads.enableEndCard&&this.setState({endCard:!0})},handlePlaybackStart:function(e){this.fireBeacon("VIDEO_START")},handleAdPlaybackStart:function(e){this.props.config.ads.enableEndCard&&this.setState({endCard:!1})},handlePlaybackUpdate:function(e,t,a){t>((this.props.config.ads||{}).videoViewBeaconTime||3)&&this.fireBeacon("VIDEO_VIEW"),t>30&&this.fireBeacon("VIDEO_30_SEC"),t>.25*a&&this.fireBeacon("VIDEO_QUARTILE_25"),t>.5*a&&this.fireBeacon("VIDEO_QUARTILE_50"),t>.75*a&&this.fireBeacon("VIDEO_QUARTILE_75")},handlePlayerReady:function(e,t){this.refs.videoplayer.enableViewportDetection()},fireBeacon:function(e){if(!this.props.config.ads.videoBeaconDisabled&&!this.state.firedBeacons[e]){var t=this.state.firedBeacons,a=new D.a,n=this.props.data.getIn(["video_ad_beacons",e]);n&&(a.image(n),t[e]=!0,this.setState({firedBeacons:t}))}},_isFlashInstalled:function(e){var t="ie"===r()(e,["browserName"],"");return B()(t)},buildVideoPlayer:function(e){var t=this.props.config.ads||{},a=e.getIn(["video_ad_assets","mediaInfo","url"]),n=e.getIn(["video_ad_assets","mediaInfo","xml"]),s=e.getIn(["image","url"]),i=r()(this.context,["session","dimensions"],{}),o=t.videoExpName||"y20stream",l=t.videoExpType||"strm-inline",c=t.videoSec||"strm",d=this.getStore("PageStore").getSpaceid(),p=function(e){var t={};return(e||[]).forEach(function(e,a){if(C.a.List.isList(e)){for(var n=[],s=0;s<e.size;s++)n[s]=e.get(s);t[a]=n}else t[a]=[e]}),t}(this.props.data.get("video_ad_beacons")),m=W(this.props.data.get("video_ad_assets")),g=W(this.props.data.get("video_ad_rules")),h=L()(r()(this.context,["session"])),f=r()(this.props,["config","content_site"],i.site),b={},v=null,_=t.vpaidTimeout||5,y={conviva:!1,disableCasting:!0,fullscreenBtn:!0,pausescreen:!1,sec:c,settingscreen:!1,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1},unMuteOnClick:!0};if(m&&Array.isArray(m.mediaInfo))for(var x=0;x<m.mediaInfo.length;x++){var S=m.mediaInfo[x];"video/mp4"===S.contentType&&S.url&&(a=S.url),S.xml&&(n=S.xml)}a?t.videoBeaconDisabled?(m.mediaInfo=[].concat(m.mediaInfo),b={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:s}}]},m.clickUrl=e.get("link"),v={standaloneAd:{gemini:m,rules:g,beacons:p}}):b={mediaItems:[{streams:[{url:a}],images:{thumbnail:s}}]}:n&&(o="GeminiBRX",v={standaloneAd:{beacons:p,xml:n},vpaidTimeout:_},b={mediaItems:[{id:"6bf451fd-11f9-37f9-a54c-d73d795839f6",images:{thumbnail:s}}]});var E={autoplay:this.state.autoplay,CMS:{env:"prod",suppressAdContext:!0},comscoreC4:i.region+" "+i.site,continuousPlay:!1,conviva:!1,disableCasting:!0,docking:{},expBucket:i.bucket,expName:o,expType:l,fullscreenBtn:!0,lang:i.lang,loop:!1,mute:!0,pageSpaceId:d,pausescreen:0,playlist:b,preload:!0,region:i.region,replayonlyendscreen:!1,stopBufferingOnPause:!0,sec:c,settingscreen:!1,site:"fp"===f?"frontpage":f,startscreen:{showButton:0,showDesc:!1,showProvider:!1,showTitle:!1}};return v&&(E.YVAP=v,y.YVAP=v),t.videoAdCCOnMute&&a&&(E.ccOnMute=!0,E.html5=!0),t.enableVideoManagerGemini?(y.playlist=b,E=q()({},E,y),u.a.createElement(U.a,{enableSharedMediaStore:!1,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,vpClassName:"H(0) Pb(56.25%)",yvpConfig:E})):u.a.createElement(H.a,{addViewportHandler:!0,height:null,onPlaybackComplete:this.handlePlaybackComplete,onPlaybackStart:this.handlePlaybackStart,onAdPlaybackStart:this.handleAdPlaybackStart,onPlaybackUpdate:this.handlePlaybackUpdate,onPlayerReady:this.handlePlayerReady,playerJs:h,ref:"videoplayer",width:null,className:"Pb(56.25%)",yvpConfig:E})}},Y=a(1813),J=a.n(Y),Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},K=_()({displayName:"FeaturedAd",autobind:!1,mixins:[T.a,J.a,G],contextTypes:{beacon:p.a.func,intl:p.a.object,session:p.a.object},propTypes:{},getInitialState:function(){return{autoplay:!1,firedBeacons:{},videoPlayer:!1}},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)},render:function(){var e,t,a,n,o=this.props,c=o.config,d=c.ui||{},p=d.use_img,m=o.data,g=m.get("isPromoAd"),h=c.promoAds||{},f=m.get("i13n")||C.a.Map(),v=this.context.intl,_=this.isVideoplayer(),x=d.adlink_classnames,S=d.adprovider_classnames,E=s()(x||"C(#0078ff):h Td(n) smartphone_C(#000)",{"Fz(13px) LineClamp(4,96px) C($c-fuji-blue-4-b)":"discussion"!==d.view,"Fw(600) Fz(14px) Lh(16px) LineClamp(4,64px) C(#000)":"discussion"===d.view,"smartphone_Fz(19px)":"thingrid"!==d.layout}),M=m.get("image")||C.a.Map(),I=M.get("width")||0,w=M.get("height")||0,T=c.pageload_image_count||3;if(I&&w&&m.get("hasHqImg")){var N=Math.round(w/I*100),A=p?"img":"div",D={checkPosition:!1,className:s()({"Bdrs(2px)":"sidekick"===d.view||"discussion"===d.view,"W(100%) H(100%) Pos(a)":p},"Bgz(cv) smartphone_Mx(0) Mb(6px) smartphone_Mb(12px) Trsdu(0s)!"),url:M.get("url"),nodeName:A,forceLoad:o.index<T},O={};p?O.paddingBottom=N+"%":D.style={paddingBottom:N+"%"};var L=u.a.createElement(y.Img,D);if(p&&(L=u.a.createElement("div",{style:O},u.a.createElement(y.Img,D))),_){var R={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:m.get("link")},B=this.state.endCard?u.a.createElement("div",{className:"Pos(a) T(45%) V(h) H(100%) W(100%) Ta(c)"},u.a.createElement(k.a,Z({},R,{target:"_blank",rel:"noopener noreferrer"}),v.formatMessage({id:"LEARN_MORE"}))):void 0;e=u.a.createElement("div",{className:s()("Mx(a) Pb(6px)",{"Pos(r)":p})},u.a.createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(m),B))}else e=u.a.createElement("div",{className:s()("Mx(a) Maw(500px)",{"Pos(r)":p})},L)}var j={config:c,data:m,intl:v},z=null;if("thingrid"===d.layout&&(z="D(b)"),c.ads&&(c.ads.showCTA||c.ads.showCTAThumbnail)){var F=m.get("callToAction");if(F){var U="D(ib) Va(t) Bdrs(2px) Px(8px) Py(4px) Fz(12px) Bdc($c-fuji-blue-1-a) C($c-fuji-blue-1-a) Bds(s) Bdw(2px) Fl(end) Td(n)",V={ad:1,aid:m.get("id"),bpos:f.get("bpos"),cpos:o.index+1,ct:"ad",elm:"hdln",outcm:"ad",pkgt:"sponsored_img",slk:F};if(c.ads.showCTA)j.ctaComponent=u.a.createElement(l.I13nAnchor,{href:m.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:V,className:U},F),j.publisherEllipsis=!0;else{var H=m.get("thumbnailImage");z="",H?(z="D(b)",j.imageComponent=u.a.createElement(l.I13nAnchor,{href:m.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:V,className:"Fl(start) D(ib)"},u.a.createElement(y.Img,{url:H.get("url"),className:"D(ib) Bdrs(50%)",width:"35",height:"35",forceLoad:o.index<T})),j.ctaComponent=u.a.createElement(l.I13nAnchor,{href:m.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:V,className:U},F)):F&&(j.ctaComponent=u.a.createElement(l.I13nAnchor,{href:m.get("link"),target:"_blank",rel:"noopener noreferrer",i13nModel:V,className:U},F),j.publisherEllipsis=!0)}}}"top"===d.attribution_pos?t=u.a.createElement(b,Z({className:s()(S||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell Mb(2px)"),publisherColor:"C(#96989f)"},j)):a=u.a.createElement(b,Z({className:s()(S||"Fz(11px) smartphone_Fz(13px)","Pos(r) Z(1) Ell",{"Mt(8px)":"sidekick"!==d.view&&"discussion"!==d.view,"Va(m) Mt(4px)":!!j.ctaComponent}),publisherColor:"C(#96989f)",sponsorContainerClass:z},j));var W={bpos:f.get("bpos"),cpos:o.index+1,ad:1,aid:m.get("id"),pkgt:e?"sponsored_img":"sponsored_noimg",slk:m.get("title"),ct:"ad"},$={className:E,data:m,i13nModel:Object.assign(W,{elm:"hdln",outcm:"ad"})};g&&(n=u.a.createElement(P,{userAgent:r()(this.context,["session","userAgent","osName"]),config:c,data:m,intl:v}),$.promoConfig=h,$.onpromoclick=!0);var q=s()({"Py(20px)":"sidekick"!==d.view&&"discussion"!==d.view,"Py(14px)":"sidekick"===d.view&&"thingrid"!==d.layout||"discussion"===d.view,"Py(10px) Px(10px)":"thingrid"===d.layout,"H(190px) ":"thingrid"===d.layout&&!g,"smartphone_Px(20px)":"thingrid"!==d.layout},"Pos(r) Ov(h) smartphone_Bxsh(streamBoxShadow)",o.className),G=d.title_pos||"bottom",Y=u.a.createElement("h3",{className:s()("M(0) Py(1px)",{"Mb(12px)":"top"===G,"Pos(r)":_})},u.a.createElement(i.Controls.PrimaryLink,$,u.a.createElement(i.Controls.Headline,{data:m,className:"Fw(600) smartphone_Fw(500)"}),u.a.createElement("u",{className:"StretchedBox Z(1)"})));return u.a.createElement("div",{className:q},t,"top"===G?Y:null,e,"bottom"===G?Y:null,a,n)}}),X=a(2021),Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},ee=_()({displayName:"MegaItemAd",autobind:!1,mixins:[T.a,i.DataMixin,J.a,G],contextTypes:{beacon:p.a.func,intl:p.a.object,session:p.a.object},propTypes:{},getInitialState:function(){return{autoplay:!1,firedBeacons:{},videoPlayer:!1}},componentWillMount:function(){this.props.config.ui.hover_on_image&&(this.onMouseEnterImg=this.onMouseEnterImg.bind(this),this.onMouseLeaveImg=this.onMouseLeaveImg.bind(this))},shouldComponentUpdate:function(e,t){return this.state.endCard!==t.endCard||this.props.data.get("id")!==e.data.get("id")||this.state.imgHover!==t.imgHover||this.isVideoplayer()!==this.isVideoplayer(t)},onMouseEnterImg:function(){this.setState({imgHover:!0})},onMouseLeaveImg:function(){this.setState({imgHover:!1})},render:function(){var e=this.props,t=e.data,a=t.get("i13n")||C.a.Map(),n=this.context.intl,o=e.config,r=o.ui||{},d=o.ads||{},p=t.get("adChoicesUrl")||d.adchoices_url,m=r.attribution_pos,g=r.button_pos||"bottom",f=(t.get("hasHqImg")||t.get("hasLargeSquareImg"))&&this.getImage(),b=o.pageload_image_count||3,v=e.index+1>b,_=t.get("summary"),y=this.isVideoplayer(),x=r.summary_classnames,S=r.adattribution_classnames,E=r.adpublisher_classnames||r.adattribution_classnames,M=r.link_classnames,I=r.h3_classnames,P=t.get("cluster");if(f&&!y){var w={};r.hover_on_image&&(w.onMouseEnter=this.onMouseEnterImg,w.onMouseLeave=this.onMouseLeaveImg),f=u.a.createElement("div",w,u.a.createElement(i.Controls.PrimaryImage,{checkPosition:!1,className:"D(b) Trsdu(0s)! Bdrs(2px) Mx(a)",data:t,lazyLoad:v}))}var T,N={bpos:a.get("bpos"),cpos:a.get("cpos"),cposy:a.get("cposy"),ad:1,aid:t.get("id"),pkgt:f?"sponsored_img":"sponsored_noimg",slk:t.get("title"),ct:"ad"};P&&(T="sponsored_cluster"),t.get("sponsored_suppress")&&(T="sponsored_suppress"),N.pkgt=T||N.pkgt;var A,D=s()("Cf Ov(h) Pos(r) Py(14px)",{"Mt(-3px)":!!f},e.className);if(_){var O=s()(x||"Fz(14px) Lh(19px) Fz(13px)--sm1024 Lh(17px)--sm1024 LineClamp(2,38px) LineClamp(2,34px)--sm1024 Mt(5px)","M(0)");A=u.a.createElement(i.Controls.Summary,{className:O,data:t})}var L;if(f){var R=s()("Fl(start) Mt(3px) Mend(25px)",{"W(30%) Maw(255px)":!r.image_classes},r.image_classes);if(y){var B={className:"Pos(r) T(-1em) H(1em) D(ib) V(v) Td(n) C(#fff) Bdc(#fff) Bds(s) Bdrs(2px) Bdw(t) Pt(4px) Pb(6px) Px(10px) Cur(p) Fz(12px) M(a) end-screen-link",followLink:!0,href:t.get("link")},j=this.state.endCard?u.a.createElement("div",{className:"Pos(a) T(50%) V(h) H(100%) W(100%) Ta(c)"},u.a.createElement(k.a,Q({},B,{target:"_blank",rel:"noopener noreferrer"}),n.formatMessage({id:"LEARN_MORE"}))):void 0;L=u.a.createElement("div",{className:R},u.a.createElement("div",{className:"Pos(r)"},this.buildVideoPlayer(t),j))}else L=u.a.createElement(i.Controls.PrimaryLink,{className:R,data:t,tabIndex:"-1",i13nModel:Object.assign({},N,{elm:"img",outcm:"ad"})},f)}var z,F=null;if(P)z=u.a.createElement(X.a,{config:o,imageClassName:"Bdrs(2px)",includeBreakPoints:!r.touch_device,index:e.index,storyline:P,i13nModel:N,isAd:!0}),m="top";else if(d.showCTA){var U=t.get("callToAction");if(U){F=u.a.createElement("span",{className:"D(ib) Va(t) Bdrs(2px) Px(8px) Py(4px) Mt(5px) Fz(12px) Bdc($c-fuji-blue-1-a) C($c-fuji-blue-1-a) Bds(s) Bdw(2px)"},U)}}var V,H=u.a.createElement(i.Controls.Publisher,{className:s()(E||"Fz(11px)","Td(n) Fw(n) D(ib) C(#959595)",{"Mt(4px)":"top"!==m,"Mstart(9px)":"top"===m}),data:t,i13nModel:{elm:"itm",outcm:"advertiser"},rel:"noopener noreferrer",target:"_blank"}),W=s()("Ov(h)",{"Pend(44px)":!!L&&"right"===g,"Pend(14%)":!L,"Pend(0)--sm1024":!L&&"bottom"===g,"Pend(44px)--sm1024":!L&&"right"===g}),$=this.state.imgHover,q=s()(M||"Fw(b) Fz(20px) Lh(23px) LineClamp(2,46px) Fz(17px)--sm1024 Lh(19px)--sm1024 LineClamp(2,38px)--sm1024","Td(n) C(#0078ff):h",{"C(#0078ff)":$,"C(#000)":!$}),G=s()(I||"M(0)",{"Pos(r)":y});d.sponsored_label_support&&(V=t.get("sponsoredByLabel")),V||(V=n.formatMessage({id:"SPONSORED"}));var Y=s()(S||"Fz(12px)","D(ib) Td(n) C(#959595) Mend(3px) Mb(6px)");return u.a.createElement("div",{className:D},L,u.a.createElement("div",{className:W},u.a.createElement("div",{className:"Pos(r) Z(2) Fw(b)"},u.a.createElement(l.I13nAnchor,{className:Y,href:d.sponsored_url,i13nModel:{elm:"icon",outcm:"sponsor"},target:"_blank",rel:"noopener noreferrer"},V),u.a.createElement(l.I13nAnchor,{href:p,i13nModel:{elm:"icon",outcm:"info"},target:"_blank",rel:"noopener noreferrer"},u.a.createElement("i",{className:"Pos(r) T(2px)"},u.a.createElement(c.Icon,{asset:h.a,color:"#959595",height:12,style:{verticalAlign:"baseline"}}))),"top"===m?H:void 0),u.a.createElement("h3",{className:G},u.a.createElement(i.Controls.PrimaryLink,{className:q,data:t,i13nModel:Object.assign({},N,{elm:"hdln",outcm:"ad"})},u.a.createElement("u",{className:"StretchedBox"}),u.a.createElement(i.Controls.Headline,{data:t}))),A,"top"!==m?H:void 0,F,z))}}),te=a(651),ae=a.n(te),ne=a(1766),se=_()({displayName:"SimpleItemAd",autobind:!1,mixins:[T.a,ae.a],contextTypes:{intl:p.a.object},propTypes:{},render:function(){var e,t=this.props,a=t.config,n=(a.ui||{}).view||{},o=t.data,l="headlines"===n,c=o.get("isPromoAd"),d=a.promoAds||{},p=o.get("image")||o.getIn(["images","original"]),m=o.get("link")||"",g=o.get("i13n")||C.a.Map(),h={className:"Td(n) C(#0078ff):h C($c-fuji-blue-4-b)",href:m,i13nModel:{bpos:g.get("bpos"),cpos:g.get("cpos"),cposy:g.get("cposy"),ad:1,aid:o.get("id"),pkgt:p?"sponsored_img":"sponsored_noimg",slk:o.get("title"),elm:"hdln",ct:"ad"},data:o};c&&l&&(e=u.a.createElement(P,{userAgent:r()(this.context,["session","userAgent","osName"]),config:a,data:o,intl:this.context.intl}),h.promoConfig=d,h.onpromoclick=!0);var f=s()("Lts(n) Whs(n) D(b) Pos(r)",{"D(tb) Td(n) C(#0078ff):h Pstart(20px) Pb(20px) Pend(13px)":l,"Px(9px)":!l}),v=s()({"D(tbr)":l}),_=s()("Maw(100%) Pos(r) H(0) Cur(p) Bdrs(2px)",{"D(tbc) W(120px) W(100px)--maw370":l,"Pb(58.1%) Bgc(#ddd)":!l}),x=s()("Tdrsu(0s)! Bdrs(2px)",{"Mend(20px) W(100px) H(100px) W(80px)--maw370 H(80px)--maw370":l,"StretchedBox W(100%) H(100%) ie-7_H(a)":!l}),S=s()("W(100%)",{"D(tbc) Va(t)":l,"D(ib) Mt(6px)":!l}),E=c&&d.enableGeminiAdFeedback||!c&&a.ads&&a.ads.enableGeminiAdFeedback,M=s()({"M(0) Mb(4px) Mt(-2px) Fw(b) Fz(16px) Fz(15px)--maw370 Lh(1.3) LineClamp(3,4em) LineClamp(2,2.7em)--maw370 Bfv(h) C(#000)":l,"Mend(20px)":E&&l,"Fz(13px) Fw(700) LineClamp(3,48px)":!l}),I=s()({"Fz(11px) C(#96989f) Z(2) Pos(r)":!l}),w=s()("C(#959595)",{"D(ib) Ell W(50%) Va(m)":!l});return u.a.createElement("div",{className:f},u.a.createElement("div",{className:v},u.a.createElement("div",{className:_},u.a.createElement(y.Img,{checkPosition:!1,className:x,forceLoad:!ne.p(t),url:p&&p.get("url")})),u.a.createElement("div",{className:S},u.a.createElement(i.Controls.PrimaryLink,h,u.a.createElement(i.Controls.Headline,{className:M,data:o}),u.a.createElement("u",{className:"StretchedBox Z(1)"})),u.a.createElement(b,{className:I,config:a,data:o,intl:this.context.intl,publisherColor:w}),e)))}}),ie=a(117),oe=a.n(ie),re=a(12),le=a.n(re),ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},de=_()({displayName:"Ad",autobind:!1,mixins:[T.a,ae.a],propTypes:{},getInitialState:function(){var e=this.getStore(le.a).getPageConfig();return{adsMessages:this.getStore(oe.a).getStrings("tdv2-applet-stream"),enableFeedback:e&&e.enableGeminiFeedback||!1}},render:function(){var e=this.props.data,t=r()(this.props.config,["ui","view"])||"",a=r()(this.props.config,["ads","partial_viewability"])||!1,n={enableFeedback:this.state.enableFeedback,adsMessages:this.state.adsMessages,scrollHandler:a};return this.props.tile?u.a.createElement(i.Controller,ce({},this.props,n,{type:"tile",component:S})):"featured"===e.get("format")||"featured"===t||"discussion"===t?u.a.createElement(i.Controller,ce({},this.props,n,{type:"featured",component:K})):"row"===t||"headlines"===t?u.a.createElement(i.Controller,ce({},this.props,n,{type:"megastream",component:se})):u.a.createElement(i.Controller,ce({},this.props,n,{type:"megastream",component:ee}))}});t.a=de},2153:function(e,t){e.exports=function(e){var t=null,a=navigator||{};if(e)try{t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/[A-Za-z\s]+/g,"").split(",")}catch(e){}else{var n=a.mimeTypes&&a.mimeTypes["application/x-shockwave-flash"];if(n){var s=n.enabledPlugin;s&&(t=s.description.replace(/\s[rd]/g,".").replace(/[A-Za-z\s]+/g,"").split("."))}}return!!t&&"0"!==t[0]}},2204:function(e,t,a){e.exports=a(2403)},2403:function(e,t,a){"use strict";var n,s,i,o="transform",r={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",transition:"transitionend"};"undefined"!=typeof window&&(s=a(1623)),n=a(3)({displayName:"ScrollView",offset:0,offsetTarget:0,offsetMin:0,offsetMax:0,releaseTime:0,afterBoundsTime:0,amplitude:0,getInitialState:function(){return{translate:0,translateTransition:!1}},propTypes:{rubberBandTiming:a(0).number,lubricity:a(0).number,stopPropagation:a(0).bool,axis:a(0).oneOf(["x","y"]),maxRubberBandDistance:a(0).oneOfType([a(0).number,a(0).oneOf([!1])]),transitionStyle:a(0).string,onTap:a(0).func,onPanEnd:a(0).func,children:a(0).element,className:a(0).string},getDefaultProps:function(){return{rubberBandTiming:100,lubricity:.5,axis:"x",maxRubberBandDistance:100,transitionStyle:"all .5s ease-out",stopPropagation:!1,onTap:function(){},onPanEnd:function(){}}},translate:function(e,t){this.setState({translate:e,translateTransition:t})},snapBack:function(e){this.afterBoundsTime=0,this.offset=e,this.translate(e,!0)},autotranslate:function(){var e,t,a,n=this.amplitude,s=this.offsetTarget,i=this.offsetMin,o=this.offsetMax,r=this.props.rubberBandTiming;if(n&&!this.dragging){if(e=Date.now()-this.releaseTime,(a=s+(t=Math.round(-n*Math.exp(-e/325))))>=o||a<=i)if(!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(a>o?a=Math.min(a,o+this.props.maxRubberBandDistance):a<i&&(a=Math.max(a,i-this.props.maxRubberBandDistance))),0!==this.afterBoundsTime){if(Date.now()-this.afterBoundsTime>r||this.state.translate===a)return void this.snapBack(a>=o?o:i)}else this.afterBoundsTime=Date.now();t>.5||t<-.5?(this.translate(a),requestAnimationFrame(this.autotranslate)):this.translate(s)}},updateOffsetMin:function(){var e=a(13).findDOMNode(this);this.offsetMin=e[this.maskSpace]-e.firstChild[this.maskScroll]},handleHammer:function(e){var t,a=1e3*e[this.velocityPropName],n=this.offsetMax,s=this.offsetMin,i=!0;switch(t=this.offset+e[this.deltaPropName],!1!==this.props.maxRubberBandDistance&&this.props.maxRubberBandDistance>=0&&(t>n?t=Math.min(t,n+this.props.maxRubberBandDistance):t<s&&(t=Math.max(t,s-this.props.maxRubberBandDistance))),e.type){case"panup":case"pandown":Math.abs(e.deltaY)>Math.abs(e.deltaX)&&(this.dragging=!0,this.translate(t));break;case"panright":case"panleft":Math.abs(e.deltaX)>Math.abs(e.deltaY)&&(this.dragging=!0,this.translate(t));break;case"panend":this.dragging=!1,this.props.onPanEnd(e),0===e.distance?i=!1:Math.abs(a)>10?("y"===this.props.axis&&Math.abs(e.velocityY)>Math.abs(e.velocityX)||"x"===this.props.axis&&Math.abs(e.velocityX)>Math.abs(e.velocityY))&&(this.amplitude=this.props.lubricity*a,this.offsetTarget=Math.round(t+this.amplitude),this.releaseTime=Date.now(),this.offset=this.offsetTarget,this.autotranslate()):t>=n?(this.offset=n,this.translate(n,!0)):t<=s?(this.offset=s,this.translate(s,!0)):this.offset=t;break;case"tap":this.props.onTap(e),i=!1}i&&(e.preventDefault(),this.props.stopPropagation&&e.srcEvent.stopPropagation())},handleOrientationChange:function(){var e,t,a;this.updateOffsetMin(),e=this.offset,t=this.offsetMax,a=this.offsetMin,e>=t?(this.offset=t,this.translate(t)):e<=a&&(this.offset=a,this.translate(a))},componentWillMount:function(){switch(this.props.axis){case"y":this.gestures="tap panend panup pandown",this.deltaPropName="deltaY",this.velocityPropName="velocityY",this.maskSpace="offsetHeight",this.maskScroll="scrollHeight";break;case"x":default:this.gestures="tap panend panleft panright",this.deltaPropName="deltaX",this.velocityPropName="velocityX",this.maskSpace="offsetWidth",this.maskScroll="scrollWidth"}},componentDidMount:function(){var e=a(13).findDOMNode(this);o=Modernizr.prefixed("transform"),i=Modernizr.prefixed("transition"),r[i],this.hammer=new s(e,{touchAction:"y"===this.props.axis?"pan-x":"pan-y",cssProps:{tapHighlightColorString:""}}).on(this.gestures,this.handleHammer),this.hammer.get("pan").set({direction:s.DIRECTION_ALL,threshold:10}),this.updateOffsetMin(),window.addEventListener("orientationchange",this.handleOrientationChange,!1)},componentWillUnmount:function(){window.removeEventListener("orientationchange",this.handleOrientationChange),this.hammer.off(this.gestures,this.handleHammer)},componentDidUpdate:function(e){e!==this.props&&this.handleOrientationChange()},render:function(){var e=this.props.axis,t=this.state.translate,n=this.state.translateTransition,s={},r=0,l=0;return"x"===e?r=t+"px":"y"===e&&(l=t+"px"),s[o]="translate3d("+r+","+l+",0)",n&&(s[i]=this.props.transitionStyle),a(1).createElement("div",Object.assign({},this.props,{className:["Ov(h)",this.props.className].join(" "),"aria-hidden":"true"}),a(1).createElement("div",{style:s},this.props.children))}}),e.exports=n}});