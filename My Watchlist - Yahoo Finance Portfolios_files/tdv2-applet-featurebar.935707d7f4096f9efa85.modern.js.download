webpackJsonp([72],{1703:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(141),r=a.n(n),o=a(1),i=a.n(o),s=a(5),l=a.n(s),c=a(3),u=a.n(c),d=a(0),p=a.n(d),f=a(33),h=a.n(f),m=a(20),b=a(142),g=a(2),v=a.n(g),x=a(4),B=a.n(x),C=a(27),F=a.n(C)()({storeName:"FeatureBarStore",statics:{handlers:{LOAD_FEATUREBAR_SUCCESS:"_populateFeatureBar",DISABLE_FEATUREBAR:"_disableFeatureBar"}},initialize:function(){this.data={},this.disableFeatureBar=!1},_populateFeatureBar:function(e){var t=this.getContext()||{},a=t.session&&t.session.dimensions&&t.session.dimensions.device,n=Object.assign({},e),r=n.data||{};"smartphone"===a&&delete r.main_image,this.data=n,this.emitChange()},_disableFeatureBar:function(){this.disableFeatureBar=!0,this.emitChange()},getData:function(){return this.data},isFeatureBarDisabled:function(){return this.disableFeatureBar},dehydrate:function(){return{data:this.data,disableFeatureBar:this.disableFeatureBar}},rehydrate:function(e){this.data=e.data,this.disableFeatureBar=e.disableFeatureBar}});var w=function(e,t){var a=t&&t.hl_text||"",n=e.prefix||t.prefix,r={cpos:1,elm:"hdln",itc:0,pos:1,sec:"featurebar",slk:a};return t.cauuid&&(r.g=t.cauuid),n&&(r.subsec=n),r};var y=function(e,t,a){var n="",r={},o=a&&a.scoobyCompat,i=a&&a.ui&&a.ui.style;return(!0===o||"true"===o)&&t&&e&&(n="js-content-viewer rapidnofollow",r["data-uuid"]=e,r["data-uuid-list"]=!0,"card"!==i&&"intlcard"!==i&&(n+=" rapid-noclick-resp")),{linkClassNames:n,linkDataAttrs:r}},E=a(2377);const _=a.n(E)()("Tdv2AppletFeaturebar:loadFeatureBar");function A(e,t,a){var n=(t=t||{}).componentProps||{},r=t.instanceId||n.id,o=n.componentConfig||{},i={instanceId:r};if(o.ui&&o.ui.instanceIndex>1)return a(null);["contentSite","imageSize","partner","pnr_id","site","source","subsite"].forEach(function(e){o[e]&&(i[e]=o[e])}),void 0!==o.convertContentUrl&&(i.convertContentUrl=o.convertContentUrl),e.dispatch("LOAD_FEATUREBAR_START",i),e.service.read("featureBar",i,{},function(t,n){if(t||!n)return _("error",t),_("error, data is:",n),e.dispatch("LOAD_FEATUREBAR_FAILURE",t),a(t,null);e.dispatch("LOAD_FEATUREBAR_SUCCESS",{instanceId:r,data:n}),a()})}var k=a(78),D=a.n(k),S=a(722),T=a.n(S),M=a(1585),N=a.n(M),O=a(7),P=a(634),I=a(1552),z=a.n(I),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},L=u()({autobind:!1,contextTypes:{executeAction:p.a.func.isRequired,session:p.a.object},displayName:"FeatureBar",mixins:[h.a],propTypes:{componentConfig:p.a.object},statics:{componentConfig:{name:"componentFeatureBar"},storeListeners:[F,r.a],initializeAction:A},onChange:function(){},getInitialState:function(){var e=this.getStore(r.a),t=this.getStore(F),a=t.getData()||{},n=e.getCurrentContent()||l.a.Map(),o=Object(O.get)(n,"uuid"),i=a.data&&a.data.cauuid;return a.isFeatureBarDisabled=t.isFeatureBarDisabled()||o===i,a},componentDidMount:function(){this.prefetch()},render:function(){var e=this.state.data||{},t=e&&e.hl_text||"";if(!this.state.isFeatureBarDisabled&&e&&t){var a,n=v()(this,["props","componentConfig"],{}),r=n.ui||{},o=r.view,s=e.view||"",l=r.minimum_severity_level||0,c=n.bg_color||e.bg_color||0,u=parseInt(c,10);a=!0===r.strictViewMatch||"true"===r.strictViewMatch?void 0!==o&&o!==s:void 0!==o&&"narrow"!==o&&o!==s,void 0===o&&(o=s);var d="wide"===o,p="narrow"===o;if(a||u<l)return null;var f="tablet"===v()(this.context,["session","dimensions","device"]),h=B()("Whs(n) Tt(c) Va(m) D(ib) Fw(b) Maw(18%) Bxz(bb)",{"Lh(22.5px) Fz(19px) Px(20px) LineClamp(2,44px)":d,"Fz(15px)":p}),g=e.hl_link_href,x=d&&v()(e,["main_image","0","url"],""),C=n.prefix||e.prefix||"",F=C?i.a.createElement("span",{className:h},C,p?":":""):null,E=d&&e.sub_heading?i.a.createElement("p",{className:"Whs(nw) Ov(h) Tov(e)"},e.sub_heading):null,_=B()("Whs(nw) Ov(h) Tov(e)",{"Fz(19px)":d,"Fz(15px) Fw(n)":p,"Mb(2px)":!!E,"tdv2-applet-featurebar:h_Td(u)":!!g}),A=B()("tdv2-applet-featurebar Fz(m) C(#fff) Pos(r)",{"D(b)":!!g,"Mx(a) Mb(10px)":f},v()(n,["ui","container_classnames"])),k=B()("Whs(n) Va(m) D(ib) Bxz(bb)",{"Bdstarts(s) Bdstartw(1px) Bdstartc(borderTrans) W(82%)":d,"Mstart(0.5em)":p,"P(16px) Pstart(20px)":d&&!e.sub_heading,"Pstart(20px) Mb(10px) Mt(8px)":d&&e.sub_heading}),S=x?i.a.createElement(b.Img,{url:x,forceLoad:!0,alt:"",className:"Pos(a) End(0) T(0) H(100%) Bdrstend(2px) Bdrsbend(2px) W(a)"}):null,T=B()("Bdrs(2px) Bxz(bb)",{"Whs(n) Pstart(0) Py(8px)":d,"Pend(15px)":!x,"Pend(163px)":!!x,"P(12px)":p,"W(100%)":!f,"W(a) Mstart(24px) Mend(17px) Pos(r)":f,"Bg(featurebarGradient-0)":0===u,"Bg(featurebarGradient-1)":1===u,"Bg(featurebarGradient-2)":2===u,"Bg(featurebarGradient-3)":3===u}),M=i.a.createElement("div",{className:T,"data-yaft-module":"tdv2-applet-FeatureBar"},F,i.a.createElement("div",{className:k},i.a.createElement("h2",{className:_},t),E),S),O=w(n,e);if(g){var P={href:g,followLink:e.bypass_modal||"/"!==g.charAt(0)};n.convertContentUrl||e.bypass_modal||(P.followLink=!1);var I=r.prerender||{},z=y(e.cauuid,g,n),L=A,j={};return P.followLink||(L+=" "+z.linkClassNames,j=z.linkDataAttrs),i.a.createElement(N.a,R({nodeName:"div",payload:{url:g}},I),i.a.createElement(D.a,R({className:L,i13nModel:O},P,j),M))}return i.a.createElement(m.I13nDiv,{className:A,i13nModel:O},M)}return null},prefetch:function(){var e=this.props.id||"",t=this.state.data||{};if(!t.bypass_modal){var a=t.cauuid?[t.cauuid]:void 0,n=v()(t,["hl_link","href"],"");if(a&&n){var r=!!Object(P.getAppIdFromPageConfig)(this);this.context.executeAction(T.a,{loadContentAction:r?z.a:void 0,sourceId:e,url:n,uuids:a})}}}}),j=a(19),U=a(11),W=a(67),G=a.n(W),V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};const J={dense:{baseContainer:"Bdrs(2px) Fz(14px) P(20px)",headlineText:"Ov(h) Tov(e) Fz(15px) Fw(n)",titleText:""},card:{baseContainer:"Bdrs(2px) Pt(13px) Pb(14px) Px(20px) Mb(4px)",headlineText:"Ov(h) Tov(e) Fz(17px) Fw(600)",titleText:"D(ib) Fz(12px) Fw(b) Mb(10px) Tt(u)"},intlcard:{baseContainer:"Bdrs(8px) Mb(4px) Mt(8px) Mx(20px) Px(12px) Py(8px)",headlineText:"Fz(14px) Ov(h) Tov(e) Fw(n)",titleText:"Fz(14px) Fw(b) My(2px) Tt(u)"}};const $={FeatureBar:L,"FeatureBar-smartphone":u()({autobind:!1,displayName:"FeatureBar-smartphone",mixins:[h.a],contextTypes:{intl:j.intlShape.isRequired,localStorage:p.a.object},propTypes:{componentConfig:p.a.object},statics:{componentConfig:{name:"componentFeatureBarSmartphone"},storeListeners:[F,r.a],initializeAction:A},onChange:function(){},getInitialState:function(){var e=this.getStore(r.a),t=this.getStore(F),a=t.getData()||{},n=v()(this,["props","componentConfig"],{});a.closed=!v()(n,["ui","delegateClose"],!1)&&v()(n,["ui","closable"],!1);var o=e.getCurrentContent(),i=o&&o.uuid,s=a.data&&a.data.cauuid;return a.isFeatureBarDisabled=t.isFeatureBarDisabled()||i===s,a},getId:function(e){return e&&(e.pkg_id||e.cauuid||e.id)},componentDidMount:function(){var e=!1,t=this.state.data||{},a=this.context.localStorage;v()(this,["props","componentConfig","ui"],{}).closable&&(a&&(e=a.getItem("featbarRead")===this.getId(t)),this.setState({closed:e}))},componentWillMount:function(){this.onCloseButtonClicked=this.onCloseButtonClicked.bind(this)},onCloseButtonClicked:function(){var e=this.state.data||{},t=this.getId(e);t&&this.context.localStorage&&this.context.localStorage.setItem("featbarRead",t),this.setState({closed:!0})},render:function(){var e=this.state.data||{},t=e&&e.hl_text||"";if(!this.state.isFeatureBarDisabled&&e&&t){var a,n=v()(this,["props","componentConfig"],{}),r=n.ui||{},o=void 0===r.closable||r.closable,s=!0===this.state.closed,l=e.hl_link_href,c=n.bg_color||e.bg_color||0,u=parseInt(c,10),d="bottomFixed"===r.placement?r.bottomOffsetClassname:"",p=J[r.style]||J.dense,f=B()("tdv2-applet-featurebar C(#fff)",p.baseContainer,d,{"D(n)":s,"Bg(featurebarGradient-0)":0===u,"Bg(featurebarGradient-1)":1===u,"Bg(featurebarGradient-2)":2===u,"Bg(featurebarGradient-3)":3===u,"Pos(f) Start(0) End(0) Mx(8px)":"bottomFixed"===r.placement}),h=w(n,e);if(o){var b=B()("featureBtn_close T(0) End(0) O(n):f Va(m) Pos(a)",{"NoJs_D(n)":!r.delegateClose}),g=Object.assign({},h,{itc:1});a=i.a.createElement(m.I13nButton,{className:b,"data-test-locator":"close-button",onClick:this.onCloseButtonClicked,i13nModel:g},i.a.createElement(U.Icon,{asset:G.a,className:"Fl(start) Mt(3px) Mend(2px)",color:"#fff",height:16,width:16}))}var x=i.a.createElement("div",{className:"Whs(n) Va(m)","data-yaft-module":"tdv2-applet-FeatureBar"},i.a.createElement("h3",{className:p.headlineText},t)),C=null;if("card"===r.style||"intlcard"===r.style){var F=e.prefix||this.context.intl.formatMessage({id:"BREAKING_NEWS"});C=i.a.createElement("h2",{className:J[r.style].titleText},F)}if(l){var E={href:l,followLink:e.bypass_modal||"/"!==l.charAt(0)},_=y(e.cauuid,l,n),A="C(#fff) D(b)",k={};E.followLink||(A+=" "+_.linkClassNames,k=_.linkDataAttrs),x=i.a.createElement(D.a,V({className:A},E,k),x)}return i.a.createElement(m.I13nDiv,{className:f,i13nModel:h},a,C,x)}return null}})};t.controllerViews=$;const q={ContentStore:r.a,FeatureBarStore:F};t.stores=q},2377:function(e,t,a){(function(n){function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==n&&"env"in n&&(e=Object({NODE_ENV:"production"}).DEBUG),e}(t=e.exports=a(2378)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var a=this.useColors;if(e[0]=(a?"%c":"")+this.namespace+(a?" %c":" ")+e[0]+(a?"%c ":" ")+"+"+t.humanize(this.diff),!a)return;var n="color: "+this.color;e.splice(1,0,n,"color: inherit");var r=0,o=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&"%c"===e&&(o=++r)}),e.splice(o,0,n)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())}).call(t,a(6))},2378:function(e,t,a){var n;function r(e){function a(){if(a.enabled){var e=a,r=+new Date,o=r-(n||r);e.diff=o,e.prev=n,e.curr=r,n=r;for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];i[0]=t.coerce(i[0]),"string"!=typeof i[0]&&i.unshift("%O");var l=0;i[0]=i[0].replace(/%([a-zA-Z%])/g,function(a,n){if("%%"===a)return a;l++;var r=t.formatters[n];if("function"==typeof r){var o=i[l];a=r.call(e,o),i.splice(l,1),l--}return a}),t.formatArgs.call(e,i),(a.log||t.log||console.log.bind(console)).apply(e,i)}}return a.namespace=e,a.enabled=t.enabled(e),a.useColors=t.useColors(),a.color=function(e){var a,n=0;for(a in e)n=(n<<5)-n+e.charCodeAt(a),n|=0;return t.colors[Math.abs(n)%t.colors.length]}(e),"function"==typeof t.init&&t.init(a),a}(t=e.exports=r.debug=r.default=r).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var a=("string"==typeof e?e:"").split(/[\s,]+/),n=a.length,r=0;r<n;r++)a[r]&&("-"===(e=a[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var a,n;for(a=0,n=t.skips.length;a<n;a++)if(t.skips[a].test(e))return!1;for(a=0,n=t.names.length;a<n;a++)if(t.names[a].test(e))return!0;return!1},t.humanize=a(15),t.names=[],t.skips=[],t.formatters={}}});